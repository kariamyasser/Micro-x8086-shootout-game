EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
game.exe -- emu8086 assembler version: 4.08  
 
[ 12/20/2017  --  5:46:15 PM ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       .MODEL SMALL
[   2]        :                                       .STACK 32
[   3]        :                                       
[   4]        :                                       
[   5]        :                                       
[   6]        :                                       .Data
[   7]        :                                       
[   8]        :                                       ;///INPUT
[   9]    0020: 0A 00 00                              PLAYERNAME db 10,?,dup('0')
[  10]        :                                       
[  11]        :                                       ;///DISPLAYS
[  12]    0023: 50 4C 41 59 45 52 20 31 20 45 4E 54   DISP1 db 'PLAYER 1 ENTER YOUR NAME  : ','$'
                45 52 20 59 4F 55 52 20 4E 41 4D 45 
                20 3A 20 24                         
[  13]    003F: 50 4C 41 59 45 52 20 32 20 45 4E 54   DISP12 db 'PLAYER 2 ENTER YOUR NAME  : ','$'
                45 52 20 59 4F 55 52 20 4E 41 4D 45 
                20 3A 20 24                         
[  14]    005B: 50 52 45 53 53 20 45 4E 54 45 52 20   DISP2 db 'PRESS ENTER KEY TO CONTINUE ...','$'
                4B 45 59 20 54 4F 20 43 4F 4E 54 49 
                4E 55 45 20 2E 2E 2E 24             
[  15]    007B: 0A 0D 20 20 2D 3E 20 54 4F 20 53 54   DISP3 db 10,13,'  -> TO START CHATTING PRESS C ','$'
                41 52 54 20 43 48 41 54 54 49 4E 47 
                20 50 52 45 53 53 20 43 20 24       
[  16]    009D: 0A 0D 20 20 2D 3E 20 54 4F 20 53 54   DISP4 db 10,13,'  -> TO START GAMING PRESS G ',10,13,'$'
                41 52 54 20 47 41 4D 49 4E 47 20 50 
                52 45 53 53 20 47 20 0A 0D 24       
[  17]    00BF: 0A 0D 24                              LL DB 10,13,'$'
[  18]    00C2: 20 20 2D 3E 20 54 4F 20 45 4E 44 20   DISP5 db '  -> TO END PROGRAM PRESS ESC ','$'
                50 52 4F 47 52 41 4D 20 50 52 45 53 
                53 20 45 53 43 20 24                
[  19]    00E1: 20 53 43 4F 52 45 3A 20 24            DISP6 DB ' SCORE : ','$'
[  20]    00EA: 57 41 49 54 49 4E 47 20 46 4F 52 20   DISPCON DB 'WAITING FOR SECOND PLAYER !!!' ,10,13 ,'                    PRESS ESC TO RETURN TO MENU...','$'
                53 45 43 4F 4E 44 20 50 4C 41 59 45 
                52 20 21 21 21 0A 0D 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 50 52 45 53 53 20 45 53 43 
                20 54 4F 20 52 45 54 55 52 4E 20 54 
                4F 20 4D 45 4E 55 2E 2E 2E 24       
[  21]    013C: 59 4F 55 20 52 45 43 49 45 56 45 44   DISPCON2 DB 'YOU RECIEVED A GAME INVITATION!!!',10,13,'                    PRESS G TO ACCEPT ...' ,10,13 ,'                             PRESS ESC TO RETURN TO MENU...','$'
                20 41 20 47 41 4D 45 20 49 4E 56 49 
                54 41 54 49 4F 4E 21 21 21 0A 0D 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 50 52 45 53 53 
                20 47 20 54 4F 20 41 43 43 45 50 54 
                20 2E 2E 2E 0A 0D 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 50 
                52 45 53 53 20 45 53 43 20 54 4F 20 
                52 45 54 55 52 4E 20 54 4F 20 4D 45 
                4E 55 2E 2E 2E 24                   
[  22]    01C6: 59 4F 55 20 52 45 43 49 45 56 45 44   DISPCON3 DB 'YOU RECIEVED A CHAT INVITATION!!!',10,13,'                    PRESS C TO ACCEPT ...' ,10,13 ,'                             PRESS ESC TO RETURN TO MENU...','$'
                20 41 20 43 48 41 54 20 49 4E 56 49 
                54 41 54 49 4F 4E 21 21 21 0A 0D 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 50 52 45 53 53 
                20 43 20 54 4F 20 41 43 43 45 50 54 
                20 2E 2E 2E 0A 0D 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 20 
                20 20 20 20 20 20 20 20 20 20 20 50 
                52 45 53 53 20 45 53 43 20 54 4F 20 
                52 45 54 55 52 4E 20 54 4F 20 4D 45 
                4E 55 2E 2E 2E 24                   
[  23]        :                                       
[  24]    0250: 50 4C 41 45 52 20 31 20 43 4F 4E 54   DISP7 DB 'PLAER 1 CONTROLS : ',10,13,'A   D',10,13,'SPACE',10,13,10,13,'PLAER 2 CONTROLS : ',10,13,'J   L',10,13,'ENTER','$'
                52 4F 4C 53 3A 20 0A 0D 41 20 20 20 
                44 0A 0D 53 50 41 43 45 0A 0D 0A 0D 
                50 4C 41 45 52 20 32 20 43 4F 4E 54 
                52 4F 4C 53 20 3A 20 0A 0D 4A 20 20 
                20 4C 0A 0D 45 4E 54 45 52 24       
[  25]    0296: 20 2A 20 2A 20 2A 20 47 20 41 20 4D   DISP8 DB ' * * * G A M E  O V E R * * * ','$'
                20 45 20 20 4F 20 56 20 45 20 52 20 
                2A 20 2A 20 2A 20 24                
[  26]    02B5: 20 20 20 2A 20 2A 20 2A 20 4C 20 45   DISP88 DB '   * * * L E V E L  2 * * * ','$'
                20 56 20 45 20 4C 20 20 32 20 2A 20 
                2A 20 2A 20 24                      
[  27]    02D2: 47 4F 4F 4F 41 41 41 4C 4C 4C 4C 4C   DISP9 DB 'GOOOAAALLLLLL','$'
                4C 24                               
[  28]    02E0: 48 41 52 44 20 4C 55 43 4B 24         DISP0 DB 'HARD LUCK','$'
[  29]    02EA: 2A 2A 50 4C 41 59 45 52 20 31 20 54   DISPX DB '**PLAYER 1 TURN**','$'
                55 52 4E 2A 2A 24                   
[  30]    02FC: 2A 2A 50 4C 41 59 45 52 20 32 20 54   DISPXX DB '**PLAYER 2 TURN**','$'
                55 52 4E 2A 2A 24                   
[  31]    030E: 59 4F 55 20 41 52 45 20 50 4C 41 59   DISPXXX DB 'YOU ARE PLAYER 1','$'
                45 52 20 31 24                      
[  32]    031F: 59 4F 55 20 41 52 45 20 50 4C 41 59   DISPXXXX DB 'YOU ARE PLAYER 2','$'
                45 52 20 32 24                      
[  33]        :                                       
[  34]    0330: 00                                    LVL2 DB 0
[  35]    0331: 00                                    OUTDATA db 0
[  36]    0332: 00                                    INDATA db 0
[  37]    0333: 00                                    readcurx db 0
[  38]    0334: 0E                                    readcury db 14
[  39]    0335: 00                                    writecurx db 0
[  40]    0336: 01                                    writecury db 1
[  41]    0337: 00                                    HOST db 0
[  42]    0338: 00                                    REQ db 0
[  43]    0339: 00                                    press DB 0
[  44]    033A: 0A                                    readcurxIN db 10
[  45]    033B: 15                                    readcuryIN db 15H
[  46]    033C: 0A                                    writecurxIN db 10
[  47]    033D: 13                                    writecuryIN db 13H
[  48]        :                                       
[  49]        :                                       
[  50]    033E: 02 00 30                              PLAYER1 DB 2,?,DUP(30H)
[  51]    0341: 02 00 30                              PLAYER2 DB 2,?,DUP(30H)
[  52]        :                                       ;////DRAW
[  53]    0344: 0A 00 00                              PLAYERNAME2 DB 10,?,DUP('0')
[  54]        :                                       
[  55]        :                                       
[  56]        :                                       
[  57]        :                                       .CODE
[  58]    0350:                                       Main proc Far
[  59]    0350: B8 02 00                              MOV AX, DATA
[  60]    0353: 8E D8                                 MOV DS,AX
[  61]        :                                       
[  62]        :                                       
[  63]        :                                       
[  64]        :                                       
[  65]    0355: E8 CA 05                              CALL CLEAR_SCREEN
[  66]    0358: E8 7F 05                              CALL GET_PLAYER_NAME           ;get player 1 name
[  67]        :                                       
[  68]    035B: E8 91 09                              CALL CONFIGURATION          ;to set serial communication configuration
[  69]    035E:                                       OPTIONS:
[  70]    035E: C6 06 17 03 00                        MOV HOST,0             ;decides if you are the host or client
[  71]    0363: C6 06 18 03 00                        MOV REQ,0              ;if you recieved a request or not
[  72]        :                                       
[  73]    0368: E8 B7 05                              CALL CLEAR_SCREEN
[  74]        :                                       
[  75]    036B: BE 20 03                              LEA SI,PLAYER1[2]
[  76]        :                                       
[  77]    036E: BF 23 03                              LEA DI,PLAYER2[2]
[  78]        :                                       
[  79]    0371: C6 04 30                              MOV [SI],30H         ;initialize score of player1  with 0
[  80]    0374: C6 05 30                              MOV [DI],30H         ;initialize score of player2  with 0
[  81]        :                                       
[  82]        :                                       
[  83]    0377: E8 B1 05                              CALL DISP_OPTIONS    ;display main menu
[  84]        :                                       
[  85]    037A: E8 88 0D                              CALL GET_OPTION  ; ORDER IS IN AL: 1B FOR EXIT, 43 FOR CHAT,47 TO START  GAME
[  86]        :                                       
[  87]        :                                       
[  88]    037D: 3C 1B                                 CMP AL,1BH             ;if esc is pressed end the proc
[  89]    037F: 75 03 E9 26 03                        JZ END_PROC
[  90]        :                                       
[  91]        :                                       
[  92]        :                                       
[  93]    0384:                                       INGAME1:           ;to call ingame chat
[  94]    0384: 60                                    PUSHA
[  95]    0385: BB 00 00                              MOV  BX,0
[  96]    0388: B4 02                                 MOV AH,2       ;SET CURSOR
[  97]    038A: BA 00 13                              MOV  DX ,1300H
[  98]    038D: CD 10                                 INT 10H
[  99]    038F: E8 36 0B                              CALL INGAMECHAT
[ 100]    0392: 61                                    POPA
[ 101]    0393: 80 3E 10 03 01                        CMP LVL2,1
[ 102]    0398: 75 03 E9 C9 01                        JE INPUT1LVL2    ;if we are in level2 the return label is different
[ 103]    039D: EB 30                                 JMP INPUT1
[ 104]        :                                       
[ 105]        :                                       
[ 106]        :                                       
[ 107]        :                                       
[ 108]        :                                       
[ 109]    039F:                                       GAME_MODE:
[ 110]    039F: E8 80 05                              CALL CLEAR_SCREEN
[ 111]        :                                       
[ 112]    03A2: E8 C5 07                              CALL SETGAME               ;calls proc that draws the starting game interface
[ 113]    03A5: C6 06 10 03 00                        MOV LVL2,0
[ 114]        :                                       
[ 115]        :                                       ; CMP HOST,1
[ 116]        :                                       ; JNE DABB
[ 117]        :                                       ;    PUSHA
[ 118]        :                                       ;MOV  BX,0
[ 119]        :                                       ;MOV AH,2       ;SET CURSOR
[ 120]        :                                       ;MOV  DX ,1000H
[ 121]        :                                       ;INT 10H
[ 122]        :                                       
[ 123]        :                                       ;MOV AH,9
[ 124]        :                                       ;MOV DX,OFFSET DISPXXX
[ 125]        :                                       ;INT 21H
[ 126]        :                                       ;     POPA
[ 127]        :                                       
[ 128]        :                                       ;   DABB:
[ 129]        :                                       ;       PUSHA
[ 130]        :                                       ; MOV  BX,0
[ 131]        :                                       ;MOV AH,2       ;SET CURSOR
[ 132]        :                                       ;MOV  DX ,1000H
[ 133]        :                                       ;INT 10H
[ 134]        :                                       ;
[ 135]        :                                       ;MOV AH,9
[ 136]        :                                       ;MOV DX,OFFSET DISPXXXX
[ 137]        :                                       ;INT 21H
[ 138]        :                                       ;     POPA
[ 139]        :                                       
[ 140]        :                                       
[ 141]    03AA:                                       TURN_01:
[ 142]        :                                       
[ 143]    03AA: 60                                    PUSHA
[ 144]    03AB: BB 00 00                              MOV  BX,0
[ 145]    03AE: B4 02                                 MOV AH,2       ;SET CURSOR
[ 146]    03B0: BA 38 10                              MOV  DX ,1038H
[ 147]    03B3: CD 10                                 INT 10H
[ 148]        :                                       
[ 149]    03B5: B4 09                                 MOV AH,9
[ 150]    03B7: BA CA 02                              MOV DX,OFFSET DISPX ;display player1 turn
[ 151]    03BA: CD 21                                 INT 21H
[ 152]    03BC: 61                                    POPA
[ 153]        :                                       
[ 154]    03BD: BB 28 08                              MOV BX,0828H ; P1 CONTROLS BX
[ 155]    03C0: BA 26 04                              MOV DX,0426H ; P2 CONTROLS DX
[ 156]        :                                       
[ 157]    03C3: 53                                    PUSH BX
[ 158]    03C4: 52                                    PUSH DX
[ 159]    03C5: 87 DA                                 XCHG BX,DX     ; draw cursor needs ball destination to be in dx
[ 160]        :                                       ;so we need to exchange it
[ 161]    03C7: E8 3C 04                              CALL DRAW_CURSOR   ;proc that draws the cursor that declares dest of ball
[ 162]    03CA: 5A                                    POP DX
[ 163]    03CB: 5B                                    POP BX
[ 164]        :                                       
[ 165]    03CC: B9 05 00                              MOV CX,5
[ 166]    03CF:                                       INPUT1:
[ 167]        :                                       
[ 168]    03CF: 51                                    PUSH CX
[ 169]    03D0: 52                                    PUSH DX
[ 170]    03D1: 53                                    PUSH BX
[ 171]    03D2: E8 51 0A                              CALL GETKEY      ;get the key press either from player1 or player2
[ 172]    03D5: 5B                                    POP BX
[ 173]    03D6: 5A                                    POP DX
[ 174]    03D7: 59                                    POP CX
[ 175]        :                                       
[ 176]    03D8: 3C 43                                 CMP AL,43H          ;if C pressed jump to in game chat
[ 177]    03DA: 74 A8                                 JE INGAME1
[ 178]        :                                       
[ 179]    03DC: 3C 1B                                 CMP AL,1BH           ;if esc pressed we end game
[ 180]    03DE: 75 0D                                 JNE H
[ 181]    03E0: C6 06 18 03 00                        MOV REQ,0
[ 182]    03E5: C6 06 17 03 00                        MOV HOST,0
[ 183]    03EA: E9 7C 02                              JMP END_PROG
[ 184]        :                                       
[ 185]    03ED:                                       H:
[ 186]    03ED: 83 F9 00                              CMP CX,0
[ 187]    03F0: 74 04                                 JZ NO
[ 188]        :                                       
[ 189]        :                                       
[ 190]    03F2: 3C 20                                 CMP AL,20H  ;if space is pressed the goal is shot otherwise the loop continues
[ 191]    03F4: 74 25                                 JZ SHOT_DECLARED
[ 192]        :                                       
[ 193]        :                                       
[ 194]        :                                       
[ 195]    03F6:                                       NO:
[ 196]        :                                       
[ 197]        :                                       
[ 198]        :                                       
[ 199]    03F6: 53                                    PUSH BX
[ 200]    03F7: 52                                    PUSH DX
[ 201]    03F8: 87 DA                                 XCHG BX,DX
[ 202]    03FA: E8 22 04                              CALL DELETE_CURSOR       ; with each step we need to delete old cursor
[ 203]        :                                       ; to draw it in new pos
[ 204]    03FD: 5A                                    POP DX
[ 205]    03FE: 5B                                    POP BX
[ 206]        :                                       
[ 207]    03FF: 52                                    PUSH DX
[ 208]    0400: E8 05 0E                              CALL INPUTKEY            ;here we update bx and dx according to what was pressed by players
[ 209]        :                                       
[ 210]        :                                       
[ 211]    0403: 8B C2                                 MOV AX,DX              ;to save new dx
[ 212]    0405: 5A                                    POP DX                  ;to restore old dx
[ 213]    0406: 50                                    PUSH AX                 ;push new dx to stack
[ 214]    0407: E8 A4 05                              CALL DELETE_GOAL        ;delete goal at old pos
[ 215]    040A: 5A                                    POP DX
[ 216]    040B: 52                                    PUSH DX
[ 217]    040C: E8 39 05                              CALL DRAW_GOAL        ;draw goal once again
[ 218]        :                                       
[ 219]        :                                       
[ 220]        :                                       
[ 221]        :                                       
[ 222]    040F: 53                                    PUSH BX
[ 223]    0410: 52                                    PUSH DX
[ 224]    0411: 87 DA                                 XCHG BX,DX              ;draw cursor needs ball pos in dx
[ 225]    0413: E8 F0 03                              CALL DRAW_CURSOR      ;draw cursor in new position
[ 226]    0416: 5A                                    POP DX
[ 227]    0417: 5B                                    POP BX
[ 228]        :                                       
[ 229]        :                                       
[ 230]        :                                       
[ 231]    0418: 49                                    DEC CX
[ 232]    0419: EB B4                                 JMP INPUT1
[ 233]        :                                       
[ 234]        :                                       
[ 235]        :                                       ;///BX HOLD FINAL BALL POSITION
[ 236]        :                                       ;///DX HOLD UPPER LEFT CORNER OF GOAL
[ 237]    041B:                                       SHOT_DECLARED:
[ 238]        :                                       
[ 239]        :                                       ;//DRAW SIMULATION
[ 240]    041B: E8 13 04                              CALL MOVE_KICKER     ; proc to move player to shoot the ball
[ 241]        :                                       
[ 242]        :                                       
[ 243]        :                                       
[ 244]    041E: 53                                    PUSH BX
[ 245]    041F: 52                                    PUSH DX
[ 246]    0420: E8 FD 07                              CALL MOVE_BALL       ; proc to draw ball at new pos and delete old pos
[ 247]    0423: 53                                    PUSH BX
[ 248]    0424: 52                                    PUSH DX
[ 249]    0425: 87 DA                                 XCHG BX,DX            ;check goal needs ball pos to be in dx
[ 250]    0427: E8 33 03                              CALL CHECK_GOAL       ;proc that checks if the ball was a goal and updates score
[ 251]    042A: 5A                                    POP DX
[ 252]    042B: 5B                                    POP BX
[ 253]        :                                       
[ 254]        :                                       
[ 255]    042C: 53                                    PUSH BX
[ 256]    042D: 52                                    PUSH DX
[ 257]    042E: 87 DA                                 XCHG BX,DX
[ 258]    0430: E8 AE 03                              CALL DELETE_CHECK      ;we delete the text goal or hard luck from screenn
[ 259]    0433: 5A                                    POP DX
[ 260]    0434: 5B                                    POP BX
[ 261]        :                                       
[ 262]        :                                       
[ 263]        :                                       
[ 264]    0435: 53                                    PUSH BX
[ 265]    0436: 52                                    PUSH DX
[ 266]    0437: 87 DA                                 XCHG BX,DX
[ 267]    0439: E8 E3 03                              CALL DELETE_CURSOR       ;delete cursor at old pos
[ 268]    043C: 5A                                    POP DX
[ 269]    043D: 5B                                    POP BX
[ 270]        :                                       
[ 271]        :                                       
[ 272]        :                                       ;///////////////////////////
[ 273]        :                                       ;/EXCHANGE PLAYERS
[ 274]    043E: 5A                                    POP DX        ; we need the last ball pos and goal corner to update interface
[ 275]    043F: 5B                                    POP BX        ;  before the second player starts to shoot
[ 276]        :                                       
[ 277]    0440: E8 00 03                              CALL CHECK_GAME2    ;it checks if player 1 has 5 goals or not
[ 278]        :                                       ;and whether player 2 has 4 goals or nor to end the game
[ 279]        :                                       
[ 280]    0443: E8 95 07                              CALL SETGAME2       ;update interface for 2nd player turn
[ 281]    0446: 60                                    PUSHA
[ 282]    0447: BB 00 00                              MOV  BX,0
[ 283]    044A: B4 02                                 MOV AH,2       ;SET CURSOR
[ 284]    044C: BA 38 10                              MOV  DX ,1038H
[ 285]    044F: CD 10                                 INT 10H
[ 286]        :                                       
[ 287]    0451: B4 09                                 MOV AH,9
[ 288]    0453: BA DC 02                              MOV DX,OFFSET DISPXX
[ 289]    0456: CD 21                                 INT 21H
[ 290]    0458: 61                                    POPA
[ 291]        :                                       
[ 292]    0459: BB 28 08                              MOV BX,0828H ; P1 CONTROLS BX
[ 293]    045C: BA 26 04                              MOV DX,0426H ; P2 CONTROLS DX
[ 294]    045F: 53                                    PUSH BX
[ 295]    0460: 52                                    PUSH DX
[ 296]    0461: 87 DA                                 XCHG BX,DX
[ 297]    0463: E8 A0 03                              CALL DRAW_CURSOR     ;that desides ball destination
[ 298]    0466: 5A                                    POP DX
[ 299]    0467: 5B                                    POP BX
[ 300]        :                                       
[ 301]    0468: B9 05 00                              MOV CX,5
[ 302]    046B:                                       INPUT2:
[ 303]        :                                       
[ 304]    046B: 51                                    PUSH CX
[ 305]    046C: 52                                    PUSH DX
[ 306]    046D: 53                                    PUSH BX
[ 307]    046E: E8 06 0A                              CALL GETKEY2       ;get input key from either players
[ 308]    0471: 5B                                    POP BX
[ 309]    0472: 5A                                    POP DX
[ 310]    0473: 59                                    POP CX
[ 311]        :                                       
[ 312]    0474: 3C 1B                                 CMP AL,1BH
[ 313]    0476: 75 03 E9 EE 01                        JZ END_PROG
[ 314]        :                                       
[ 315]    047B: 83 F9 00                              CMP CX,0
[ 316]    047E: 74 04                                 JZ NO2
[ 317]        :                                       
[ 318]        :                                       ;CMP HOST,0
[ 319]        :                                       ;JNE NO2
[ 320]    0480: 3C 20                                 CMP AL,20H  ;if space is pressed the goal is shot otherwise the loop continues
[ 321]    0482: 74 25                                 JZ SHOT_DECLARED2
[ 322]        :                                       
[ 323]        :                                       
[ 324]        :                                       
[ 325]    0484:                                       NO2:
[ 326]        :                                       
[ 327]        :                                       
[ 328]        :                                       
[ 329]    0484: 53                                    PUSH BX
[ 330]    0485: 52                                    PUSH DX
[ 331]    0486: 87 DA                                 XCHG BX,DX
[ 332]    0488: E8 94 03                              CALL DELETE_CURSOR   ;delete cursor at old pos
[ 333]    048B: 5A                                    POP DX
[ 334]    048C: 5B                                    POP BX
[ 335]        :                                       
[ 336]    048D: 52                                    PUSH DX
[ 337]    048E: E8 25 0E                              CALL INPUTKEY2       ;sets new destination according to sent or recieved press
[ 338]        :                                       
[ 339]        :                                       
[ 340]    0491: 8B C2                                 MOV AX,DX
[ 341]    0493: 5A                                    POP DX
[ 342]    0494: 50                                    PUSH AX
[ 343]    0495: E8 16 05                              CALL DELETE_GOAL       ;delete goal at old pos
[ 344]    0498: 5A                                    POP DX
[ 345]    0499: 52                                    PUSH DX
[ 346]    049A: E8 AB 04                              CALL DRAW_GOAL      ;draw goal at new pos
[ 347]        :                                       
[ 348]        :                                       
[ 349]        :                                       
[ 350]        :                                       
[ 351]    049D: 53                                    PUSH BX
[ 352]    049E: 52                                    PUSH DX
[ 353]    049F: 87 DA                                 XCHG BX,DX
[ 354]    04A1: E8 62 03                              CALL DRAW_CURSOR    ;draw cursor at new pos
[ 355]    04A4: 5A                                    POP DX
[ 356]    04A5: 5B                                    POP BX
[ 357]        :                                       
[ 358]        :                                       
[ 359]        :                                       
[ 360]    04A6: 49                                    DEC CX
[ 361]    04A7: EB C2                                 JMP INPUT2
[ 362]        :                                       
[ 363]        :                                       
[ 364]        :                                       ;///BX HOLD FINAL BALL POSITION
[ 365]        :                                       ;///DX HOLD UPPER LEFT CORNER OF GOAL
[ 366]    04A9:                                       SHOT_DECLARED2:
[ 367]        :                                       
[ 368]        :                                       ;//DRAW SIMULATION
[ 369]    04A9: E8 85 03                              CALL MOVE_KICKER
[ 370]        :                                       
[ 371]        :                                       
[ 372]        :                                       ;POP DX
[ 373]    04AC: 53                                    PUSH BX
[ 374]    04AD: 52                                    PUSH DX
[ 375]    04AE: E8 6F 07                              CALL MOVE_BALL   ;move ball simulation
[ 376]        :                                       
[ 377]    04B1: 53                                    PUSH BX
[ 378]    04B2: 52                                    PUSH DX
[ 379]    04B3: 87 DA                                 XCHG BX,DX
[ 380]    04B5: E8 E7 02                              CALL CHECK_GOAL2  ;check if ball between boundries  and declare hardluck or goaal
[ 381]    04B8: 5A                                    POP DX
[ 382]    04B9: 5B                                    POP BX
[ 383]        :                                       
[ 384]        :                                       
[ 385]    04BA: 53                                    PUSH BX
[ 386]    04BB: 52                                    PUSH DX
[ 387]    04BC: 87 DA                                 XCHG BX,DX
[ 388]    04BE: E8 20 03                              CALL DELETE_CHECK    ;delete goal or hardluck
[ 389]    04C1: 5A                                    POP DX
[ 390]    04C2: 5B                                    POP BX
[ 391]        :                                       
[ 392]        :                                       
[ 393]        :                                       
[ 394]    04C3: 53                                    PUSH BX
[ 395]    04C4: 52                                    PUSH DX
[ 396]    04C5: 87 DA                                 XCHG BX,DX
[ 397]    04C7: E8 55 03                              CALL DELETE_CURSOR   ;delete cursor at old pos
[ 398]    04CA: 5A                                    POP DX
[ 399]    04CB: 5B                                    POP BX
[ 400]        :                                       
[ 401]        :                                       ;////////////
[ 402]    04CC: E8 50 02                              CALL CHECK_GAME       ;check if game level1 ended
[ 403]        :                                       
[ 404]        :                                       
[ 405]    04CF: 5A                                    POP DX
[ 406]    04D0: 5B                                    POP BX
[ 407]        :                                       
[ 408]        :                                       
[ 409]        :                                       
[ 410]    04D1: E8 07 07                              CALL SETGAME2   ;redraws and updates interface
[ 411]        :                                       
[ 412]    04D4: E9 D3 FE                              JMP TURN_01     ;return to turn 1
[ 413]        :                                       
[ 414]        :                                       
[ 415]        :                                       
[ 416]    04D7:                                       CHATT:         ;chat mode
[ 417]    04D7: E8 2E 08                              CALL CHAT
[ 418]    04DA: E9 81 FE                              JMP OPTIONS
[ 419]        :                                       
[ 420]        :                                       
[ 421]        :                                       
[ 422]    04DD:                                       LVLVL:         ;level2
[ 423]        :                                       
[ 424]    04DD: E8 42 04                              CALL CLEAR_SCREEN
[ 425]    04E0: BB 00 00                              MOV  BX,0
[ 426]    04E3: B4 02                                 MOV AH,2       ;SET CURSOR
[ 427]    04E5: BA 1B 0A                              MOV  DX ,0A1BH
[ 428]    04E8: CD 10                                 INT 10H
[ 429]        :                                       
[ 430]    04EA: B4 09                                 MOV AH,9
[ 431]    04EC: BA 95 02                              MOV DX,OFFSET DISP88 ;display level 2  screen
[ 432]    04EF: CD 21                                 INT 21H
[ 433]        :                                       
[ 434]    04F1: E8 BA 01                              CALL DELAY
[ 435]    04F4: E8 B7 01                              CALL DELAY
[ 436]    04F7: E8 B4 01                              CALL DELAY
[ 437]    04FA: E8 B1 01                              CALL DELAY
[ 438]    04FD: E8 AE 01                              CALL DELAY
[ 439]    0500: E8 AB 01                              CALL DELAY
[ 440]    0503: E8 A8 01                              CALL DELAY
[ 441]    0506: E8 A5 01                              CALL DELAY
[ 442]    0509: E8 A2 01                              CALL DELAY
[ 443]    050C: E8 9F 01                              CALL DELAY
[ 444]    050F: E8 9C 01                              CALL DELAY
[ 445]    0512: E8 99 01                              CALL DELAY
[ 446]    0515: E8 96 01                              CALL DELAY
[ 447]    0518: E8 93 01                              CALL DELAY
[ 448]    051B: E8 90 01                              CALL DELAY
[ 449]    051E: E8 8D 01                              CALL DELAY
[ 450]    0521: E8 8A 01                              CALL DELAY
[ 451]    0524: E8 87 01                              CALL DELAY
[ 452]    0527: E8 84 01                              CALL DELAY
[ 453]        :                                       
[ 454]        :                                       
[ 455]        :                                       
[ 456]    052A: E8 F5 03                              CALL CLEAR_SCREEN
[ 457]        :                                       
[ 458]    052D: BE 20 03                              LEA SI,PLAYER1[2]
[ 459]        :                                       
[ 460]    0530: BF 23 03                              LEA DI,PLAYER2[2]
[ 461]        :                                       
[ 462]    0533: C6 04 30                              MOV [SI],30H         ;initialize score of player1  with 0
[ 463]    0536: C6 05 30                              MOV [DI],30H         ;initialize score of player2  with 0
[ 464]        :                                       
[ 465]    0539: C6 06 10 03 01                        MOV LVL2,1
[ 466]    053E: E8 29 06                              CALL SETGAME               ;calls proc that draws the starting game interface
[ 467]        :                                       
[ 468]    0541:                                       TURN_01LVL2:
[ 469]    0541: 60                                    PUSHA
[ 470]    0542: BB 00 00                              MOV  BX,0
[ 471]    0545: B4 02                                 MOV AH,2       ;SET CURSOR
[ 472]    0547: BA 38 10                              MOV  DX ,1038H
[ 473]    054A: CD 10                                 INT 10H
[ 474]        :                                       
[ 475]    054C: B4 09                                 MOV AH,9
[ 476]    054E: BA CA 02                              MOV DX,OFFSET DISPX
[ 477]    0551: CD 21                                 INT 21H
[ 478]    0553: 61                                    POPA
[ 479]    0554: BB 28 08                              MOV BX,0828H ; P1 CONTROLS BX
[ 480]    0557: BA 26 04                              MOV DX,0426H ; P2 CONTROLS DX
[ 481]        :                                       
[ 482]    055A: 53                                    PUSH BX
[ 483]    055B: 52                                    PUSH DX
[ 484]    055C: 87 DA                                 XCHG BX,DX     ; draw cursor needs ball destination to be in dx
[ 485]        :                                       ;so we need to exchange it
[ 486]    055E: E8 A5 02                              CALL DRAW_CURSOR   ;proc that draws the cursor that declares dest of ball
[ 487]    0561: 5A                                    POP DX
[ 488]    0562: 5B                                    POP BX
[ 489]        :                                       
[ 490]    0563: B9 05 00                              MOV CX,5
[ 491]    0566:                                       INPUT1LVL2:
[ 492]        :                                       
[ 493]    0566: 51                                    PUSH CX
[ 494]    0567: 52                                    PUSH DX
[ 495]    0568: 53                                    PUSH BX
[ 496]    0569: E8 BA 08                              CALL GETKEY
[ 497]    056C: 5B                                    POP BX
[ 498]    056D: 5A                                    POP DX
[ 499]    056E: 59                                    POP CX
[ 500]        :                                       
[ 501]    056F: 3C 43                                 CMP AL,43H
[ 502]    0571: 75 03 E9 0E FE                        JE INGAME1
[ 503]        :                                       
[ 504]    0576: 3C 1B                                 CMP AL,1BH           ;if esc pressed we end game
[ 505]    0578: 75 0D                                 JNE HLVL2
[ 506]    057A: C6 06 18 03 00                        MOV REQ,0
[ 507]    057F: C6 06 17 03 00                        MOV HOST,0
[ 508]    0584: E9 E2 00                              JMP END_PROG
[ 509]        :                                       
[ 510]    0587:                                       HLVL2:
[ 511]        :                                       
[ 512]        :                                       
[ 513]        :                                       
[ 514]    0587: 3C 20                                 CMP AL,20H  ;if space is pressed the goal is shot otherwise the loop continues
[ 515]    0589: 74 25                                 JZ SHOT_DECLAREDLVL2
[ 516]        :                                       
[ 517]        :                                       
[ 518]        :                                       
[ 519]    058B:                                       NOLVL2:
[ 520]        :                                       
[ 521]        :                                       
[ 522]        :                                       
[ 523]    058B: 53                                    PUSH BX
[ 524]    058C: 52                                    PUSH DX
[ 525]    058D: 87 DA                                 XCHG BX,DX
[ 526]    058F: E8 8D 02                              CALL DELETE_CURSOR       ; with each step we need to delete old cursor
[ 527]        :                                       ; to draw it in new pos
[ 528]    0592: 5A                                    POP DX
[ 529]    0593: 5B                                    POP BX
[ 530]        :                                       
[ 531]    0594: 52                                    PUSH DX
[ 532]    0595: E8 CC 0D                              CALL INPUTKEYLVL2            ;here we update bx and dx according to what was pressed by players
[ 533]        :                                       
[ 534]        :                                       
[ 535]    0598: 8B C2                                 MOV AX,DX              ;to save new dx
[ 536]    059A: 5A                                    POP DX                  ;to restore old dx
[ 537]    059B: 50                                    PUSH AX                 ;push new dx to stack
[ 538]    059C: E8 0F 04                              CALL DELETE_GOAL        ;delete goal at old pos
[ 539]    059F: 5A                                    POP DX
[ 540]    05A0: 52                                    PUSH DX
[ 541]    05A1: E8 A4 03                              CALL DRAW_GOAL        ;draw goal once again
[ 542]        :                                       
[ 543]        :                                       
[ 544]        :                                       
[ 545]        :                                       
[ 546]    05A4: 53                                    PUSH BX
[ 547]    05A5: 52                                    PUSH DX
[ 548]    05A6: 87 DA                                 XCHG BX,DX              ;draw cursor needs ball pos in dx
[ 549]    05A8: E8 5B 02                              CALL DRAW_CURSOR      ;draw cursor in new position
[ 550]    05AB: 5A                                    POP DX
[ 551]    05AC: 5B                                    POP BX
[ 552]        :                                       
[ 553]        :                                       
[ 554]        :                                       
[ 555]    05AD: 49                                    DEC CX
[ 556]    05AE: EB B6                                 JMP INPUT1LVL2
[ 557]        :                                       
[ 558]        :                                       
[ 559]        :                                       ;///BX HOLD FINAL BALL POSITION
[ 560]        :                                       ;///DX HOLD UPPER LEFT CORNER OF GOAL
[ 561]    05B0:                                       SHOT_DECLAREDLVL2:
[ 562]        :                                       
[ 563]        :                                       ;//DRAW SIMULATION
[ 564]    05B0: E8 7E 02                              CALL MOVE_KICKER     ; proc to move player to shoot the ball
[ 565]        :                                       
[ 566]        :                                       
[ 567]        :                                       
[ 568]    05B3: 53                                    PUSH BX
[ 569]    05B4: 52                                    PUSH DX
[ 570]    05B5: E8 68 06                              CALL MOVE_BALL       ; proc to draw ball at new pos and delete old pos
[ 571]    05B8: 53                                    PUSH BX
[ 572]    05B9: 52                                    PUSH DX
[ 573]    05BA: 87 DA                                 XCHG BX,DX            ;check goal needs ball pos to be in dx
[ 574]    05BC: E8 9E 01                              CALL CHECK_GOAL       ;proc that checks if the ball was a goal and updates score
[ 575]    05BF: 5A                                    POP DX
[ 576]    05C0: 5B                                    POP BX
[ 577]        :                                       
[ 578]        :                                       
[ 579]    05C1: 53                                    PUSH BX
[ 580]    05C2: 52                                    PUSH DX
[ 581]    05C3: 87 DA                                 XCHG BX,DX
[ 582]    05C5: E8 19 02                              CALL DELETE_CHECK      ;we delete the text goal or hard luck from screenn
[ 583]    05C8: 5A                                    POP DX
[ 584]    05C9: 5B                                    POP BX
[ 585]        :                                       
[ 586]        :                                       
[ 587]        :                                       
[ 588]    05CA: 53                                    PUSH BX
[ 589]    05CB: 52                                    PUSH DX
[ 590]    05CC: 87 DA                                 XCHG BX,DX
[ 591]    05CE: E8 4E 02                              CALL DELETE_CURSOR       ;delete cursor at old pos
[ 592]    05D1: 5A                                    POP DX
[ 593]    05D2: 5B                                    POP BX
[ 594]        :                                       
[ 595]        :                                       
[ 596]        :                                       ;///////////////////////////
[ 597]        :                                       ;/EXCHANGE PLAYERS
[ 598]    05D3: 5A                                    POP DX        ; we need the last ball pos and goal corner to update interface
[ 599]    05D4: 5B                                    POP BX        ;  before the second player starts to shoot
[ 600]        :                                       
[ 601]    05D5: E8 9D 0F                              CALL CHECK_GAME2LVL2    ;it checks if player 1 has 5 goals or not
[ 602]        :                                       ;and whether player 2 has 4 goals or nor to end the game
[ 603]        :                                       
[ 604]    05D8: E8 00 06                              CALL SETGAME2       ;update interface for 2nd player turn
[ 605]    05DB: 60                                    PUSHA
[ 606]    05DC: BB 00 00                              MOV  BX,0
[ 607]    05DF: B4 02                                 MOV AH,2       ;SET CURSOR
[ 608]    05E1: BA 38 10                              MOV  DX ,1038H
[ 609]    05E4: CD 10                                 INT 10H
[ 610]        :                                       
[ 611]    05E6: B4 09                                 MOV AH,9
[ 612]    05E8: BA DC 02                              MOV DX,OFFSET DISPXX
[ 613]    05EB: CD 21                                 INT 21H
[ 614]    05ED: 61                                    POPA
[ 615]        :                                       
[ 616]    05EE: BB 28 08                              MOV BX,0828H ; P1 CONTROLS BX
[ 617]    05F1: BA 26 04                              MOV DX,0426H ; P2 CONTROLS DX
[ 618]    05F4: 53                                    PUSH BX
[ 619]    05F5: 52                                    PUSH DX
[ 620]    05F6: 87 DA                                 XCHG BX,DX
[ 621]    05F8: E8 0B 02                              CALL DRAW_CURSOR
[ 622]    05FB: 5A                                    POP DX
[ 623]    05FC: 5B                                    POP BX
[ 624]        :                                       
[ 625]    05FD: B9 05 00                              MOV CX,5
[ 626]    0600:                                       INPUT2LVL2:
[ 627]        :                                       
[ 628]    0600: 51                                    PUSH CX
[ 629]    0601: 52                                    PUSH DX
[ 630]    0602: 53                                    PUSH BX
[ 631]    0603: E8 71 08                              CALL GETKEY2
[ 632]    0606: 5B                                    POP BX
[ 633]    0607: 5A                                    POP DX
[ 634]    0608: 59                                    POP CX
[ 635]        :                                       
[ 636]    0609: 3C 1B                                 CMP AL,1BH
[ 637]    060B: 74 5C                                 JZ END_PROG
[ 638]        :                                       
[ 639]    060D: 83 F9 00                              CMP CX,0
[ 640]    0610: 74 04                                 JZ NO2LVL2
[ 641]        :                                       
[ 642]        :                                       ;CMP HOST,0
[ 643]        :                                       ;JNE NO2
[ 644]    0612: 3C 20                                 CMP AL,20H  ;if space is pressed the goal is shot otherwise the loop continues
[ 645]    0614: 74 25                                 JZ SHOT_DECLARED2LVL2
[ 646]        :                                       
[ 647]        :                                       
[ 648]        :                                       
[ 649]    0616:                                       NO2LVL2:
[ 650]        :                                       
[ 651]        :                                       
[ 652]        :                                       
[ 653]    0616: 53                                    PUSH BX
[ 654]    0617: 52                                    PUSH DX
[ 655]    0618: 87 DA                                 XCHG BX,DX
[ 656]    061A: E8 02 02                              CALL DELETE_CURSOR
[ 657]    061D: 5A                                    POP DX
[ 658]    061E: 5B                                    POP BX
[ 659]        :                                       
[ 660]    061F: 52                                    PUSH DX
[ 661]    0620: E8 30 0E                              CALL INPUTKEY2LVL2
[ 662]        :                                       
[ 663]        :                                       
[ 664]    0623: 8B C2                                 MOV AX,DX
[ 665]    0625: 5A                                    POP DX
[ 666]    0626: 50                                    PUSH AX
[ 667]    0627: E8 84 03                              CALL DELETE_GOAL
[ 668]    062A: 5A                                    POP DX
[ 669]    062B: 52                                    PUSH DX
[ 670]    062C: E8 19 03                              CALL DRAW_GOAL
[ 671]        :                                       
[ 672]        :                                       
[ 673]        :                                       
[ 674]        :                                       
[ 675]    062F: 53                                    PUSH BX
[ 676]    0630: 52                                    PUSH DX
[ 677]    0631: 87 DA                                 XCHG BX,DX
[ 678]    0633: E8 D0 01                              CALL DRAW_CURSOR
[ 679]    0636: 5A                                    POP DX
[ 680]    0637: 5B                                    POP BX
[ 681]        :                                       
[ 682]        :                                       
[ 683]        :                                       
[ 684]    0638: 49                                    DEC CX
[ 685]    0639: EB C5                                 JMP INPUT2LVL2
[ 686]        :                                       
[ 687]        :                                       
[ 688]        :                                       ;///BX HOLD FINAL BALL POSITION
[ 689]        :                                       ;///DX HOLD UPPER LEFT CORNER OF GOAL
[ 690]    063B:                                       SHOT_DECLARED2LVL2:
[ 691]        :                                       
[ 692]        :                                       ;//DRAW SIMULATION
[ 693]    063B: E8 F3 01                              CALL MOVE_KICKER
[ 694]        :                                       
[ 695]        :                                       
[ 696]        :                                       ;POP DX
[ 697]    063E: 53                                    PUSH BX
[ 698]    063F: 52                                    PUSH DX
[ 699]    0640: E8 DD 05                              CALL MOVE_BALL
[ 700]        :                                       
[ 701]    0643: 53                                    PUSH BX
[ 702]    0644: 52                                    PUSH DX
[ 703]    0645: 87 DA                                 XCHG BX,DX
[ 704]    0647: E8 55 01                              CALL CHECK_GOAL2
[ 705]    064A: 5A                                    POP DX
[ 706]    064B: 5B                                    POP BX
[ 707]        :                                       
[ 708]        :                                       
[ 709]    064C: 53                                    PUSH BX
[ 710]    064D: 52                                    PUSH DX
[ 711]    064E: 87 DA                                 XCHG BX,DX
[ 712]    0650: E8 8E 01                              CALL DELETE_CHECK
[ 713]    0653: 5A                                    POP DX
[ 714]    0654: 5B                                    POP BX
[ 715]        :                                       
[ 716]        :                                       
[ 717]        :                                       
[ 718]    0655: 53                                    PUSH BX
[ 719]    0656: 52                                    PUSH DX
[ 720]    0657: 87 DA                                 XCHG BX,DX
[ 721]    0659: E8 C3 01                              CALL DELETE_CURSOR
[ 722]    065C: 5A                                    POP DX
[ 723]    065D: 5B                                    POP BX
[ 724]        :                                       
[ 725]        :                                       ;////////////
[ 726]    065E: E8 F0 0E                              CALL CHECK_GAMELVL2
[ 727]        :                                       
[ 728]        :                                       
[ 729]    0661: 5A                                    POP DX
[ 730]    0662: 5B                                    POP BX
[ 731]        :                                       
[ 732]        :                                       
[ 733]        :                                       
[ 734]    0663: E8 75 05                              CALL SETGAME2
[ 735]        :                                       
[ 736]    0666: E9 D8 FE                              JMP TURN_01LVL2
[ 737]        :                                       
[ 738]        :                                       
[ 739]        :                                       
[ 740]        :                                       
[ 741]        :                                       
[ 742]        :                                       
[ 743]        :                                       
[ 744]    0669:                                       END_PROG:        ;here we end game and display game over
[ 745]        :                                       
[ 746]    0669: E8 B6 02                              CALL CLEAR_SCREEN
[ 747]    066C: BB 00 00                              MOV  BX,0
[ 748]    066F: B4 02                                 MOV AH,2       ;SET CURSOR
[ 749]    0671: BA 1B 0A                              MOV  DX ,0A1BH
[ 750]    0674: CD 10                                 INT 10H
[ 751]        :                                       
[ 752]    0676: B4 09                                 MOV AH,9
[ 753]    0678: BA 76 02                              MOV DX,OFFSET DISP8
[ 754]    067B: CD 21                                 INT 21H
[ 755]        :                                       
[ 756]    067D: E8 2E 00                              CALL DELAY
[ 757]    0680: E8 2B 00                              CALL DELAY
[ 758]    0683: E8 28 00                              CALL DELAY
[ 759]    0686: E8 25 00                              CALL DELAY
[ 760]    0689: E8 22 00                              CALL DELAY
[ 761]    068C: E8 1F 00                              CALL DELAY
[ 762]    068F: E8 1C 00                              CALL DELAY
[ 763]    0692: E8 19 00                              CALL DELAY
[ 764]    0695: E8 16 00                              CALL DELAY
[ 765]    0698: E8 13 00                              CALL DELAY
[ 766]    069B: E8 10 00                              CALL DELAY
[ 767]    069E: E8 0D 00                              CALL DELAY
[ 768]    06A1: E8 0A 00                              CALL DELAY
[ 769]    06A4: E8 07 00                              CALL DELAY
[ 770]        :                                       
[ 771]    06A7: E9 B4 FC                              JMP OPTIONS ; we return again to the main menu
[ 772]        :                                       
[ 773]    06AA:                                       END_PROC:
[ 774]    06AA: B4 4C                                 MOV AH,4CH   ; end program
[ 775]    06AC: CD 21                                 INT 21H
[ 776]        :                                       Main ENDP
[ 777]        :                                       ;/////////////////////////////////////////////
[ 778]        :                                       
[ 779]        :                                       
[ 780]    06AE:                                       Proc Delay  ; proc that causes delay to open in dosbox
[ 781]    06AE: 60                                    PUSHA
[ 782]        :                                       
[ 783]    06AF: BF 10 27                              MOV DI,10000
[ 784]    06B2:                                       LOOP1:
[ 785]        :                                       
[ 786]    06B2: 4F                                    DEC DI
[ 787]    06B3: 83 FF 00                              CMP DI,0
[ 788]    06B6: 75 FA                                 JNZ LOOP1
[ 789]        :                                       
[ 790]    06B8: BF 10 27                              MOV DI,10000
[ 791]    06BB:                                       LOOP2:
[ 792]        :                                       
[ 793]    06BB: 4F                                    DEC DI
[ 794]    06BC: 83 FF 00                              CMP DI,0
[ 795]    06BF: 75 FA                                 JNZ LOOP2
[ 796]    06C1: BF 10 27                              MOV DI,10000
[ 797]    06C4:                                       LOOP3:
[ 798]        :                                       
[ 799]    06C4: 4F                                    DEC DI
[ 800]    06C5: 83 FF 00                              CMP DI,0
[ 801]    06C8: 75 FA                                 JNZ LOOP3
[ 802]        :                                       
[ 803]    06CA: BF 10 27                              MOV DI,10000
[ 804]    06CD:                                       LOOP4:
[ 805]        :                                       
[ 806]    06CD: 4F                                    DEC DI
[ 807]    06CE: 83 FF 00                              CMP DI,0
[ 808]    06D1: 75 FA                                 JNZ LOOP4
[ 809]        :                                       
[ 810]    06D3: 61                                    POPA
[ 811]    06D4: C3                                    ret
[ 812]        :                                       endp DELAY
[ 813]        :                                       
[ 814]        :                                       
[ 815]        :                                       ;/////////////////////////////////////////
[ 816]    06D5:                                       PROC SET_GOAL       ;proc that assigns goal for player (1) and display it
[ 817]    06D5: 60                                    PUSHA
[ 818]        :                                       
[ 819]        :                                       
[ 820]        :                                       
[ 821]    06D6: BB 00 00                              MOV  BX,0
[ 822]    06D9: B4 02                                 MOV AH,2       ;SET CURSOR
[ 823]    06DB: BA 12 11                              MOV  DX ,1112H
[ 824]    06DE: CD 10                                 INT 10H
[ 825]        :                                       
[ 826]        :                                       
[ 827]    06E0: BE 20 03                              LEA SI,PLAYER1[2]    ; load the previous score
[ 828]        :                                       
[ 829]        :                                       ;MOV AH,2
[ 830]    06E3: 8A 14                                 MOV DL,[SI]
[ 831]    06E5: FE C2                                 INC DL         ; add a goal
[ 832]    06E7: 88 14                                 MOV [SI],DL
[ 833]        :                                       ;INT 21H
[ 834]        :                                       
[ 835]        :                                       
[ 836]        :                                       
[ 837]    06E9: 60                                    PUSHA
[ 838]    06EA: B4 09                                 MOV AH,9         ;display
[ 839]    06EC: B7 00                                 MOV BH,0
[ 840]    06EE: 8A C2                                 MOV AL,DL
[ 841]    06F0: B9 01 00                              MOV CX,1
[ 842]    06F3: B3 03                                 MOV BL,03h
[ 843]    06F5: CD 10                                 INT 10H
[ 844]    06F7: 61                                    POPA
[ 845]        :                                       
[ 846]        :                                       
[ 847]        :                                       
[ 848]    06F8: 61                                    POPA
[ 849]        :                                       
[ 850]    06F9: C3                                    RET
[ 851]        :                                       ENDP SET_GOAL
[ 852]        :                                       ;/////////////////////////////////////////
[ 853]    06FA:                                       PROC SET_GOAL2      ;proc that assigns goal for player (2) and display it
[ 854]    06FA: 60                                    PUSHA
[ 855]        :                                       
[ 856]        :                                       
[ 857]    06FB: BB 00 00                              MOV  BX,0
[ 858]    06FE: B4 02                                 MOV AH,2       ;SET CURSOR
[ 859]    0700: BA 40 11                              MOV  DX ,1140H
[ 860]    0703: CD 10                                 INT 10H
[ 861]        :                                       ; sam as the previous proc
[ 862]        :                                       
[ 863]    0705: BE 23 03                              LEA SI,PLAYER2[2]
[ 864]        :                                       
[ 865]        :                                       ;MOV AH,2
[ 866]    0708: 8A 14                                 MOV DL,[SI]
[ 867]    070A: FE C2                                 INC DL
[ 868]    070C: 88 14                                 MOV [SI],DL
[ 869]        :                                       ;INT 21H
[ 870]        :                                       
[ 871]    070E: 60                                    PUSHA
[ 872]    070F: B4 09                                 MOV AH,9
[ 873]    0711: B7 00                                 MOV BH,0
[ 874]    0713: 8A C2                                 MOV AL,DL
[ 875]    0715: B9 01 00                              MOV CX,1
[ 876]    0718: B3 03                                 MOV BL,03h
[ 877]    071A: CD 10                                 INT 10H
[ 878]    071C: 61                                    POPA
[ 879]        :                                       
[ 880]    071D: 61                                    POPA
[ 881]        :                                       
[ 882]    071E: C3                                    RET
[ 883]        :                                       ENDP SET_GOAL2
[ 884]        :                                       ;//////////////////////////////////////////
[ 885]    071F:                                       PROC CHECK_GAME   ;checks wether game should be ended if player 1 has 5 goals
[ 886]        :                                       ;or player 2 or they have a draw
[ 887]    071F: 60                                    PUSHA
[ 888]    0720: BE 20 03                              LEA SI,PLAYER1[2]      ;load player1 score
[ 889]        :                                       
[ 890]    0723: BF 23 03                              LEA DI,PLAYER2[2]      ;load player 2 score
[ 891]        :                                       
[ 892]    0726: 8A 04                                 MOV AL,[SI]
[ 893]    0728: 8A 25                                 MOV AH,[DI]
[ 894]        :                                       
[ 895]        :                                       
[ 896]    072A: 80 FC 35                              CMP AH,35H           ;see if player 2 has   5 goals
[ 897]    072D: 72 07                                 JB XXX
[ 898]    072F: 3A E0                                 CMP AH,AL           ;see if there is a draw
[ 899]    0731: 74 0E                                 JZ  XX
[ 900]    0733: E9 A7 FD                              JMP LVLVL
[ 901]        :                                       
[ 902]    0736:                                       XXX:
[ 903]    0736: 3C 35                                 CMP AL,35H        ;see if player 1 has 5 goals
[ 904]    0738: 72 07                                 JB  XX
[ 905]    073A: 3A E0                                 CMP AH,AL         ;see if there is  a draw
[ 906]    073C: 74 03                                 JZ  XX
[ 907]        :                                       
[ 908]    073E: E9 9C FD                              JMP LVLVL         ; end game if any one wins
[ 909]        :                                       
[ 910]        :                                       
[ 911]    0741:                                       XX:
[ 912]    0741: 61                                    POPA
[ 913]        :                                       
[ 914]    0742: C3                                    RET
[ 915]        :                                       ENDP CHECK_GAME
[ 916]        :                                       ;///////////////////////////////////
[ 917]    0743:                                       PROC CHECK_GAME2
[ 918]    0743: 60                                    PUSHA
[ 919]    0744: BE 20 03                              LEA SI,PLAYER1[2]        ; load the scores
[ 920]        :                                       
[ 921]    0747: BF 23 03                              LEA DI,PLAYER2[2]
[ 922]        :                                       
[ 923]    074A: 8A 04                                 MOV AL,[SI]
[ 924]    074C: 8A 25                                 MOV AH,[DI]
[ 925]        :                                       
[ 926]        :                                       
[ 927]    074E: 3C 35                                 CMP Al,35H         ;check if playyer 1 has 5 goals
[ 928]    0750: 72 09                                 JB SSS
[ 929]        :                                       
[ 930]    0752: 2A C4                                 SUB AL,AH          ;checks that player 2 is less than 4 goals
[ 931]    0754: 3C 02                                 CMP AL,2
[ 932]        :                                       
[ 933]        :                                       
[ 934]    0756: 72 03 E9 82 FD                        JNB LVLVL
[ 935]        :                                       
[ 936]    075B:                                       SSS:
[ 937]    075B: 61                                    POPA
[ 938]        :                                       
[ 939]    075C: C3                                    RET
[ 940]        :                                       ENDP CHECK_GAME2
[ 941]        :                                       ;/////////////////////////////////////
[ 942]    075D:                                       PROC CHECK_GOAL     ; for player 1
[ 943]    075D: 60                                    PUSHA
[ 944]        :                                       
[ 945]        :                                       
[ 946]    075E: 3A D3                                 CMP DL,BL         ; checks if the ball is below the uppper boundary
[ 947]    0760: 76 14                                 JNA NOG
[ 948]    0762: 80 C3 09                              ADD BL,9
[ 949]    0765: 3A D3                                 CMP DL,BL         ; checks if the ball is above the lower boundary
[ 950]    0767: 73 0D                                 JNB NOG
[ 951]        :                                       
[ 952]    0769: 3A F7                                 CMP DH,BH            ; checks if the ball is to right of left boundary
[ 953]    076B: 76 09                                 JNA NOG
[ 954]        :                                       
[ 955]    076D: 80 C7 04                              ADD BH,4
[ 956]    0770: 3A F7                                 CMP DH,BH            ; checks if the ball is to lrft of right boundary
[ 957]    0772: 73 02                                 JNB NOG
[ 958]        :                                       
[ 959]        :                                       
[ 960]    0774: EB 13                                 JMP EE
[ 961]    0776:                                       NOG:    ; not goal
[ 962]        :                                       
[ 963]    0776: BB 00 00                              MOV  BX,0
[ 964]    0779: B4 02                                 MOV AH,2       ;SET CURSOR
[ 965]    077B: BA 1F 11                              MOV  DX ,111FH
[ 966]    077E: CD 10                                 INT 10H
[ 967]        :                                       
[ 968]    0780: B4 09                                 MOV AH,9                ; display hard luck
[ 969]    0782: BA C0 02                              MOV DX,OFFSET DISP0
[ 970]    0785: CD 21                                 INT 21H
[ 971]        :                                       
[ 972]    0787: EB 14                                 JMP NZZ
[ 973]    0789:                                       EE:
[ 974]        :                                       
[ 975]    0789: BB 00 00                              MOV  BX,0
[ 976]    078C: B4 02                                 MOV AH,2       ;SET CURSOR
[ 977]    078E: BA 1F 11                              MOV  DX ,111FH
[ 978]    0791: CD 10                                 INT 10H
[ 979]        :                                       
[ 980]    0793: B4 09                                 MOV AH,9
[ 981]    0795: BA B2 02                              MOV DX,OFFSET DISP9      ; disp goal
[ 982]    0798: CD 21                                 INT 21H
[ 983]    079A: E8 38 FF                              CALL SET_GOAL             ; update score
[ 984]    079D:                                       NZZ:
[ 985]        :                                       
[ 986]        :                                       
[ 987]    079D: 61                                    POPA
[ 988]    079E: C3                                    RET
[ 989]        :                                       ENDP CHECK_GOAL
[ 990]        :                                       ;/////////////////////////////////////////
[ 991]        :                                       ;//////////////////////////////////////////
[ 992]    079F:                                       PROC CHECK_GOAL2     ; for player 2
[ 993]    079F: 60                                    PUSHA
[ 994]        :                                       
[ 995]    07A0: 3A D3                                 CMP DL,BL
[ 996]    07A2: 76 14                                 JNA NOG2
[ 997]    07A4: 80 C3 09                              ADD BL,9
[ 998]    07A7: 3A D3                                 CMP DL,BL
[ 999]    07A9: 73 0D                                 JNB NOG2
[1000]        :                                       
[1001]    07AB: 3A F7                                 CMP DH,BH
[1002]    07AD: 76 C7                                 JNA NOG
[1003]        :                                       
[1004]    07AF: 80 C7 04                              ADD BH,4
[1005]    07B2: 3A F7                                 CMP DH,BH
[1006]    07B4: 73 C0                                 JNB NOG
[1007]        :                                       
[1008]        :                                       
[1009]    07B6: EB 13                                 JMP EE2
[1010]    07B8:                                       NOG2:
[1011]        :                                       
[1012]    07B8: BB 00 00                              MOV  BX,0
[1013]    07BB: B4 02                                 MOV AH,2       ;SET CURSOR
[1014]    07BD: BA 1F 11                              MOV  DX ,111FH
[1015]    07C0: CD 10                                 INT 10H
[1016]        :                                       
[1017]    07C2: B4 09                                 MOV AH,9
[1018]    07C4: BA C0 02                              MOV DX,OFFSET DISP0
[1019]    07C7: CD 21                                 INT 21H
[1020]        :                                       
[1021]    07C9: EB 14                                 JMP NZZ2
[1022]    07CB:                                       EE2:
[1023]        :                                       
[1024]    07CB: BB 00 00                              MOV  BX,0
[1025]    07CE: B4 02                                 MOV AH,2       ;SET CURSOR
[1026]    07D0: BA 1F 11                              MOV  DX ,111FH
[1027]    07D3: CD 10                                 INT 10H
[1028]        :                                       
[1029]    07D5: B4 09                                 MOV AH,9
[1030]    07D7: BA B2 02                              MOV DX,OFFSET DISP9
[1031]    07DA: CD 21                                 INT 21H
[1032]    07DC: E8 1B FF                              CALL SET_GOAL2
[1033]    07DF:                                       NZZ2:
[1034]        :                                       
[1035]        :                                       
[1036]    07DF: 61                                    POPA
[1037]    07E0: C3                                    RET
[1038]        :                                       ENDP CHECK_GOAL2
[1039]        :                                       ;//////////////////////////////////////////
[1040]    07E1:                                       PROC DELETE_CHECK     ; delete goal or hardluck
[1041]    07E1: 60                                    PUSHA
[1042]        :                                       
[1043]    07E2: BB 00 00                              MOV  BX,0
[1044]    07E5: B4 02                                 MOV AH,2       ;SET CURSOR
[1045]    07E7: BA 1F 11                              MOV  DX ,111FH
[1046]    07EA: CD 10                                 INT 10H
[1047]        :                                       
[1048]    07EC: B9 0D 00                              MOV CX,13
[1049]        :                                       
[1050]    07EF:                                       EX:
[1051]    07EF: B4 02                                 MOV AH,2
[1052]    07F1: B2 20                                 MOV DL,' '
[1053]    07F3: CD 21                                 INT 21H
[1054]        :                                       
[1055]    07F5: E8 B6 FE                              CALL DELAY
[1056]    07F8: E8 B3 FE                              CALL DELAY
[1057]    07FB: E8 B0 FE                              CALL DELAY
[1058]    07FE: 49                                    DEC CX
[1059]    07FF: 83 F9 00                              CMP CX,0
[1060]    0802: 75 EB                                 JNZ EX
[1061]        :                                       
[1062]    0804: 61                                    POPA
[1063]    0805: C3                                    RET
[1064]        :                                       ENDP DELETE_CHECK
[1065]        :                                       ;////////////////////////////////////////
[1066]    0806:                                       PROC DRAW_CURSOR     ;draw the cursor that decides the ball dest
[1067]    0806: 60                                    PUSHA
[1068]        :                                       
[1069]    0807: BB 00 00                              MOV BX,0
[1070]        :                                       
[1071]    080A: B4 02                                 MOV AH,2       ;SET CURSOR
[1072]    080C: B6 0C                                 MOV DH,0CH    ;we must draw it below goal
[1073]    080E: CD 10                                 INT 10H
[1074]        :                                       
[1075]        :                                       
[1076]        :                                       
[1077]    0810: B4 09                                 MOV AH,9
[1078]    0812: B7 00                                 MOV BH,0
[1079]    0814: B0 5E                                 MOV AL,'^'
[1080]    0816: B9 01 00                              MOV CX,1
[1081]    0819: B3 08                                 MOV BL,08H
[1082]    081B: CD 10                                 INT 10H
[1083]        :                                       
[1084]    081D: 61                                    POPA
[1085]    081E: C3                                    RET
[1086]        :                                       ENDP DRAW_CURSOR
[1087]        :                                       ;//////////////////////////////////////////
[1088]    081F:                                       PROC DELETE_CURSOR      ; deletes cursor
[1089]    081F: 60                                    PUSHA
[1090]        :                                       
[1091]    0820: BB 00 00                              MOV BX,0
[1092]        :                                       
[1093]    0823: B4 02                                 MOV AH,2       ;SET CURSOR
[1094]    0825: B6 0C                                 MOV DH,0CH
[1095]    0827: CD 10                                 INT 10H
[1096]        :                                       
[1097]        :                                       
[1098]    0829: B4 02                                 MOV AH,2
[1099]    082B: B2 20                                 MOV DL,' '      ;print space
[1100]    082D: CD 21                                 INT 21H
[1101]        :                                       
[1102]        :                                       
[1103]    082F: 61                                    POPA
[1104]    0830: C3                                    RET
[1105]        :                                       ENDP DELETE_CURSOR
[1106]        :                                       ;//////////////////////////////////////////
[1107]        :                                       
[1108]        :                                       ;//////////////////////////////////////////////////////
[1109]    0831:                                       PROC MOVE_KICKER
[1110]    0831: 52                                    PUSH DX
[1111]    0832: 53                                    PUSH BX
[1112]        :                                       ;first delete old body pos
[1113]    0833: BB 00 00                              MOV BX,0
[1114]    0836: B4 02                                 MOV AH,2       ;SET CURSOR
[1115]    0838: BA 2A 0E                              MOV  DX ,0E2AH
[1116]    083B: CD 10                                 INT 10H
[1117]    083D: B4 02                                 mov ah, 02h         ; DOS Display character call
[1118]    083F: B2 20                                 mov dl, 20h         ; A space to clear old character
[1119]    0841: CD 21                                 int 21h             ; Display it
[1120]        :                                       
[1121]    0843: BB 00 00                              MOV BX,0
[1122]    0846: B4 02                                 MOV AH,2       ;SET CURSOR
[1123]    0848: BA 2A 0F                              MOV  DX ,0F2AH
[1124]    084B: CD 10                                 INT 10H
[1125]    084D: B4 02                                 mov ah, 02h         ; DOS Display character call
[1126]    084F: B2 20                                 mov dl, 20h         ; A space to clear old character
[1127]    0851: CD 21                                 int 21h             ; Display it
[1128]        :                                       
[1129]        :                                       
[1130]    0853: B4 02                                 MOV AH,2       ;SET CURSOR
[1131]    0855: BA 2A 10                              MOV  DX ,102AH
[1132]    0858: CD 10                                 INT 10H
[1133]    085A: B4 02                                 mov ah, 02h         ; DOS Display character call
[1134]    085C: B2 20                                 mov dl, 20h         ; A space to clear old character
[1135]    085E: CD 21                                 int 21h             ; Display it
[1136]        :                                       
[1137]    0860: B4 02                                 MOV AH,2       ;SET CURSOR
[1138]    0862: BA 29 0D                              MOV  DX ,0D29H    ;new head pos
[1139]    0865: CD 10                                 INT 10H
[1140]        :                                       
[1141]        :                                       
[1142]        :                                       ;MOV AH,2
[1143]        :                                       ;MOV DL,'Q'
[1144]        :                                       ;INT 21H
[1145]        :                                       
[1146]        :                                       
[1147]    0867: 60                                    PUSHA             ;draw head
[1148]    0868: B4 09                                 MOV AH,9
[1149]    086A: B7 00                                 MOV BH,0
[1150]    086C: B0 51                                 MOV AL,'Q'
[1151]    086E: B9 01 00                              MOV CX,1
[1152]    0871: B3 04                                 MOV BL,4
[1153]    0873: CD 10                                 INT 10H
[1154]    0875: 61                                    POPA
[1155]        :                                       
[1156]        :                                       
[1157]    0876: B4 02                                 MOV AH,2       ;SET CURSOR
[1158]    0878: BA 29 0E                              MOV  DX ,0E29H  ;new arms pos
[1159]    087B: CD 10                                 INT 10H
[1160]        :                                       
[1161]        :                                       
[1162]        :                                       ;MOV AH,2
[1163]        :                                       ;MOV DL,'^'
[1164]        :                                       ;INT 21H
[1165]        :                                       
[1166]        :                                       ;draw new arms
[1167]    087D: 60                                    PUSHA
[1168]    087E: B4 09                                 MOV AH,9
[1169]    0880: B7 00                                 MOV BH,0
[1170]    0882: B0 5E                                 MOV AL,'^'
[1171]    0884: B9 01 00                              MOV CX,1
[1172]    0887: B3 04                                 MOV BL,4
[1173]    0889: CD 10                                 INT 10H
[1174]    088B: 61                                    POPA
[1175]        :                                       
[1176]        :                                       
[1177]    088C: B4 02                                 MOV AH,2       ;SET CURSOR
[1178]    088E: BA 29 0F                              MOV  DX ,0F29H
[1179]    0891: CD 10                                 INT 10H
[1180]        :                                       
[1181]        :                                       
[1182]    0893: 60                                    PUSHA
[1183]    0894: B4 09                                 MOV AH,9      ;draw legs
[1184]    0896: B7 00                                 MOV BH,0
[1185]    0898: B0 5E                                 MOV AL,'^'
[1186]    089A: B9 01 00                              MOV CX,1
[1187]    089D: B3 04                                 MOV BL,4
[1188]    089F: CD 10                                 INT 10H
[1189]    08A1: 61                                    POPA
[1190]        :                                       ;MOV AH,2
[1191]        :                                       ;MOV DL,'^'
[1192]        :                                       ;INT 21H
[1193]    08A2: E8 09 FE                              CALL DELAY
[1194]    08A5: E8 06 FE                              CALL DELAY
[1195]    08A8: E8 03 FE                              CALL DELAY
[1196]    08AB: B4 02                                 MOV AH,2       ;SET CURSOR
[1197]    08AD: BA 29 0F                              MOV  DX ,0F29H
[1198]    08B0: CD 10                                 INT 10H
[1199]    08B2: B4 02                                 mov ah, 02h         ; DOS Display character call
[1200]    08B4: B2 20                                 mov dl, 20h         ; A space to clear old character
[1201]    08B6: CD 21                                 int 21h             ; Display it
[1202]        :                                       
[1203]    08B8: B4 02                                 MOV AH,2       ;SET CURSOR
[1204]    08BA: BA 28 0F                              MOV  DX ,0F28H
[1205]    08BD: CD 10                                 INT 10H
[1206]        :                                       
[1207]        :                                       
[1208]    08BF: 60                                    PUSHA            ;move the legs to ball to shoot
[1209]    08C0: B4 09                                 MOV AH,9
[1210]    08C2: B7 00                                 MOV BH,0
[1211]    08C4: B0 5E                                 MOV AL,'^'
[1212]    08C6: B9 01 00                              MOV CX,1
[1213]    08C9: B3 04                                 MOV BL,4
[1214]    08CB: CD 10                                 INT 10H
[1215]    08CD: 61                                    POPA
[1216]        :                                       ;MOV AH,2
[1217]        :                                       ;MOV DL,'^'
[1218]        :                                       ;INT 21H
[1219]    08CE: E8 DD FD                              CALL DELAY
[1220]    08D1: E8 DA FD                              CALL DELAY
[1221]    08D4: E8 D7 FD                              CALL DELAY
[1222]    08D7: 5B                                    POP BX
[1223]    08D8: 5A                                    POP DX
[1224]    08D9: C3                                    RET
[1225]        :                                       ENDP MOVE_KICKER
[1226]        :                                       ;/////////////////////////////////////////////////////
[1227]    08DA:                                       PROC GET_PLAYER_NAME    ;player1
[1228]    08DA: B4 09                                 MOV AH,9
[1229]    08DC: BA 03 00                              MOV DX,OFFSET DISP1
[1230]    08DF: CD 21                                 INT 21H
[1231]        :                                       
[1232]    08E1: B4 02                                 MOV AH,2       ;SET CURSOR
[1233]    08E3: BA 00 03                              MOV  DX ,0300H
[1234]    08E6: CD 10                                 INT 10H
[1235]        :                                       
[1236]    08E8: B4 09                                 MOV AH,9
[1237]    08EA: BA 3B 00                              MOV DX,OFFSET DISP2
[1238]    08ED: CD 21                                 INT 21H
[1239]        :                                       
[1240]    08EF: B4 02                                 MOV AH,2     ;SET CURSOR
[1241]    08F1: BA 00 02                              MOV  DX ,0200H
[1242]    08F4: CD 10                                 INT 10H
[1243]        :                                       
[1244]    08F6: B4 0A                                 MOV AH,0AH
[1245]    08F8: BA 00 00                              MOV DX,OFFSET PLAYERNAME
[1246]    08FB: CD 21                                 INT 21H
[1247]        :                                       
[1248]    08FD: C3                                    RET
[1249]        :                                       ENDP GET_PLAYER_NAME
[1250]        :                                       
[1251]        :                                       ;//////////////////////////////////////////////////
[1252]        :                                       ;/////////////////////////////////////////////////////
[1253]    08FE:                                       PROC GET_PLAYER_NAME2       ;player2
[1254]    08FE: B4 09                                 MOV AH,9
[1255]    0900: BA 1F 00                              MOV DX,OFFSET DISP12
[1256]    0903: CD 21                                 INT 21H
[1257]        :                                       
[1258]    0905: B4 02                                 MOV AH,2       ;SET CURSOR
[1259]    0907: BA 00 03                              MOV  DX ,0300H
[1260]    090A: CD 10                                 INT 10H
[1261]        :                                       
[1262]    090C: B4 09                                 MOV AH,9
[1263]    090E: BA 3B 00                              MOV DX,OFFSET DISP2
[1264]    0911: CD 21                                 INT 21H
[1265]        :                                       
[1266]    0913: B4 02                                 MOV AH,2     ;SET CURSOR
[1267]    0915: BA 00 02                              MOV  DX ,0200H
[1268]    0918: CD 10                                 INT 10H
[1269]        :                                       
[1270]    091A: B4 0A                                 MOV AH,0AH
[1271]    091C: BA 24 03                              MOV DX,OFFSET PLAYERNAME2
[1272]    091F: CD 21                                 INT 21H
[1273]        :                                       
[1274]    0921: C3                                    RET
[1275]        :                                       ENDP GET_PLAYER_NAME2
[1276]        :                                       
[1277]        :                                       ;///////////////////////////////////////////////
[1278]    0922:                                       PROC  CLEAR_SCREEN        ;clear screen proc
[1279]    0922: B8 02 00                              mov ax,02
[1280]    0925: BB 03 00                              mov bx,03
[1281]    0928: CD 10                                 int 10h
[1282]        :                                       
[1283]    092A: C3                                    RET
[1284]        :                                       ENDP CLEAR_SCREEN
[1285]        :                                       
[1286]        :                                       ;////////////////////////////////////////////////////
[1287]    092B:                                       PROC DISP_OPTIONS          ;proc to displaye main menu of the prog
[1288]    092B: B4 02                                 MOV AH,2       ;SET CURSOR
[1289]    092D: BA 00 00                              MOV  DX ,0000H
[1290]    0930: CD 10                                 INT 10H
[1291]        :                                       
[1292]        :                                       
[1293]    0932: B4 09                                 MOV AH,9
[1294]    0934: BA 5B 00                              MOV DX,OFFSET DISP3       ;game
[1295]    0937: CD 21                                 INT 21H
[1296]        :                                       
[1297]    0939: B4 09                                 MOV AH,9
[1298]    093B: BA 7D 00                              MOV DX,OFFSET DISP4       ;chat
[1299]    093E: CD 21                                 INT 21H
[1300]        :                                       
[1301]    0940: B4 09                                 MOV AH,9
[1302]    0942: BA A2 00                              MOV DX,OFFSET DISP5       ;escape
[1303]    0945: CD 21                                 INT 21H
[1304]    0947: C3                                    RET
[1305]        :                                       ENDP DISP_OPTIONS
[1306]        :                                       
[1307]        :                                       ;///////////////////////////////////////////
[1308]    0948:                                       PROC DRAW_GOAL        ; INITIAL LEFT CORNER MUST BE PUT IN DX   --> 0426H
[1309]    0948: 53                                    PUSH BX
[1310]    0949: BB 00 00                              MOV BX,0
[1311]    094C: B9 09 00                              MOV CX,9
[1312]    094F: 52                                    PUSH DX
[1313]    0950: B4 02                                 MOV AH,2       ;SET CURSOR
[1314]    0952: CD 10                                 INT 10H
[1315]        :                                       
[1316]    0954:                                       UPPER:           ;draw upper bar
[1317]    0954: B4 02                                 MOV AH,2
[1318]    0956: B2 2D                                 MOV DL,'-'
[1319]    0958: CD 21                                 INT 21H
[1320]    095A: 49                                    DEC CX
[1321]    095B: 75 F7                                 JNZ UPPER
[1322]        :                                       
[1323]    095D: B9 05 00                              MOV CX,5
[1324]        :                                       
[1325]    0960: B4 02                                 MOV AH,2       ;SET CURSOR
[1326]    0962: 5A                                    POP DX
[1327]    0963: 52                                    PUSH DX
[1328]    0964: CD 10                                 INT 10H
[1329]        :                                       
[1330]    0966:                                       LEFT:
[1331]    0966: 52                                    PUSH DX
[1332]    0967: B4 02                                 MOV AH,2
[1333]    0969: B2 7C                                 MOV DL,'|'
[1334]    096B: CD 21                                 INT 21H
[1335]    096D: 5A                                    POP DX
[1336]    096E: FE C6                                 INC DH
[1337]    0970: B4 02                                 MOV AH,2       ;SET CURSOR
[1338]    0972: CD 10                                 INT 10H
[1339]        :                                       
[1340]    0974: 49                                    DEC CX
[1341]    0975: 75 EF                                 JNZ LEFT
[1342]        :                                       
[1343]        :                                       
[1344]    0977: 5A                                    POP DX
[1345]    0978: 52                                    PUSH DX
[1346]    0979: 80 C2 09                              ADD DL,09H
[1347]    097C: B9 05 00                              MOV CX,5
[1348]    097F: B4 02                                 MOV AH,2       ;SET CURSOR
[1349]    0981: CD 10                                 INT 10H
[1350]        :                                       
[1351]        :                                       
[1352]    0983:                                       RIGHT:
[1353]    0983: 52                                    PUSH DX
[1354]    0984: B4 02                                 MOV AH,2
[1355]    0986: B2 7C                                 MOV DL,'|'
[1356]    0988: CD 21                                 INT 21H
[1357]    098A: 5A                                    POP DX
[1358]    098B: FE C6                                 INC DH
[1359]    098D: B4 02                                 MOV AH,2       ;SET CURSOR
[1360]    098F: CD 10                                 INT 10H
[1361]        :                                       
[1362]    0991: 49                                    DEC CX
[1363]    0992: 75 EF                                 JNZ RIGHT
[1364]        :                                       
[1365]    0994: 5A                                    POP DX
[1366]    0995: 52                                    PUSH DX
[1367]    0996: 80 C6 04                              ADD DH,04H
[1368]    0999: FE C2                                 INC DL
[1369]    099B: B9 08 00                              MOV CX,8
[1370]    099E: B4 02                                 MOV AH,2       ;SET CURSOR
[1371]    09A0: CD 10                                 INT 10H
[1372]        :                                       
[1373]    09A2:                                       DOWN:
[1374]    09A2: B4 02                                 MOV AH,2
[1375]    09A4: B2 2D                                 MOV DL,'-'
[1376]    09A6: CD 21                                 INT 21H
[1377]    09A8: 49                                    DEC CX
[1378]    09A9: 75 F7                                 JNZ DOWN
[1379]        :                                       
[1380]    09AB: 5A                                    POP DX
[1381]    09AC: 5B                                    POP BX
[1382]        :                                       
[1383]    09AD: C3                                    RET
[1384]        :                                       ENDP DRAW_GOAL
[1385]        :                                       ;/////////////////////////////////////////
[1386]    09AE:                                       PROC DELETE_GOAL
[1387]        :                                       
[1388]    09AE: 53                                    PUSH BX
[1389]    09AF: BB 00 00                              MOV BX,0
[1390]    09B2: B9 09 00                              MOV CX,9
[1391]    09B5: 52                                    PUSH DX
[1392]    09B6: B4 02                                 MOV AH,2       ;SET CURSOR
[1393]    09B8: CD 10                                 INT 10H
[1394]        :                                       
[1395]    09BA:                                       UPPER2:
[1396]    09BA: B4 02                                 MOV AH,2
[1397]    09BC: B2 20                                 MOV DL,' '
[1398]    09BE: CD 21                                 INT 21H
[1399]    09C0: 49                                    DEC CX
[1400]    09C1: 75 F7                                 JNZ UPPER2
[1401]        :                                       
[1402]    09C3: B9 05 00                              MOV CX,5
[1403]        :                                       
[1404]    09C6: B4 02                                 MOV AH,2       ;SET CURSOR
[1405]    09C8: 5A                                    POP DX
[1406]    09C9: 52                                    PUSH DX
[1407]    09CA: CD 10                                 INT 10H
[1408]        :                                       
[1409]    09CC:                                       LEFT2:
[1410]    09CC: 52                                    PUSH DX
[1411]    09CD: B4 02                                 MOV AH,2
[1412]    09CF: B2 20                                 MOV DL,' '
[1413]    09D1: CD 21                                 INT 21H
[1414]    09D3: 5A                                    POP DX
[1415]    09D4: FE C6                                 INC DH
[1416]    09D6: B4 02                                 MOV AH,2       ;SET CURSOR
[1417]    09D8: CD 10                                 INT 10H
[1418]        :                                       
[1419]    09DA: 49                                    DEC CX
[1420]    09DB: 75 EF                                 JNZ LEFT2
[1421]        :                                       
[1422]        :                                       
[1423]    09DD: 5A                                    POP DX
[1424]    09DE: 52                                    PUSH DX
[1425]    09DF: 80 C2 09                              ADD DL,09H
[1426]    09E2: B9 05 00                              MOV CX,5
[1427]    09E5: B4 02                                 MOV AH,2       ;SET CURSOR
[1428]    09E7: CD 10                                 INT 10H
[1429]        :                                       
[1430]        :                                       
[1431]    09E9:                                       RIGHT2:
[1432]    09E9: 52                                    PUSH DX
[1433]    09EA: B4 02                                 MOV AH,2
[1434]    09EC: B2 20                                 MOV DL,' '
[1435]    09EE: CD 21                                 INT 21H
[1436]    09F0: 5A                                    POP DX
[1437]    09F1: FE C6                                 INC DH
[1438]    09F3: B4 02                                 MOV AH,2       ;SET CURSOR
[1439]    09F5: CD 10                                 INT 10H
[1440]        :                                       
[1441]    09F7: 49                                    DEC CX
[1442]    09F8: 75 EF                                 JNZ RIGHT2
[1443]        :                                       
[1444]    09FA: 5A                                    POP DX
[1445]    09FB: 52                                    PUSH DX
[1446]    09FC: 80 C6 04                              ADD DH,04H
[1447]    09FF: FE C2                                 INC DL
[1448]    0A01: B9 08 00                              MOV CX,8
[1449]    0A04: B4 02                                 MOV AH,2       ;SET CURSOR
[1450]    0A06: CD 10                                 INT 10H
[1451]        :                                       
[1452]    0A08:                                       DOWN2:
[1453]    0A08: B4 02                                 MOV AH,2
[1454]    0A0A: B2 20                                 MOV DL,' '
[1455]    0A0C: CD 21                                 INT 21H
[1456]    0A0E: 49                                    DEC CX
[1457]    0A0F: 75 F7                                 JNZ DOWN2
[1458]        :                                       
[1459]    0A11: 5A                                    POP DX
[1460]    0A12: 5B                                    POP BX
[1461]        :                                       
[1462]        :                                       
[1463]        :                                       
[1464]    0A13: C3                                    RET
[1465]        :                                       ENDP DELETE_GOAL
[1466]        :                                       ;////////////////////////////////////////
[1467]    0A14:                                       PROC DRAW_BP12 ;DRAW BALL AND PLAYER
[1468]        :                                       
[1469]        :                                       ;///////DRAW BALL
[1470]    0A14: B4 02                                 MOV AH,2       ;SET CURSOR
[1471]    0A16: BA 28 0F                              MOV  DX ,0F28H
[1472]    0A19: CD 10                                 INT 10H
[1473]        :                                       
[1474]        :                                       
[1475]    0A1B: 60                                    PUSHA
[1476]    0A1C: B4 09                                 MOV AH,9
[1477]    0A1E: B7 00                                 MOV BH,0
[1478]    0A20: B0 4F                                 MOV AL,'O'
[1479]    0A22: B9 01 00                              MOV CX,1
[1480]    0A25: B3 0F                                 MOV BL,0FH
[1481]    0A27: CD 10                                 INT 10H
[1482]    0A29: 61                                    POPA
[1483]        :                                       
[1484]        :                                       ;MOV AH,2
[1485]        :                                       ;MOV DL,'O'
[1486]        :                                       ;INT 21H
[1487]        :                                       
[1488]        :                                       ;///DRAW KICKER
[1489]        :                                       
[1490]    0A2A: B4 02                                 MOV AH,2       ;SET CURSOR
[1491]    0A2C: BA 2A 0E                              MOV  DX ,0E2AH
[1492]    0A2F: CD 10                                 INT 10H
[1493]        :                                       
[1494]        :                                       
[1495]    0A31: 60                                    PUSHA
[1496]    0A32: B4 09                                 MOV AH,9
[1497]    0A34: B7 00                                 MOV BH,0
[1498]    0A36: B0 51                                 MOV AL,'Q'
[1499]    0A38: B9 01 00                              MOV CX,1
[1500]    0A3B: B3 04                                 MOV BL,4
[1501]    0A3D: CD 10                                 INT 10H
[1502]    0A3F: 61                                    POPA
[1503]        :                                       
[1504]        :                                       ;MOV AH,2
[1505]        :                                       ;MOV DL,'Q'
[1506]        :                                       ;INT 21H
[1507]        :                                       
[1508]    0A40: B4 02                                 MOV AH,2       ;SET CURSOR
[1509]    0A42: BA 2A 0F                              MOV  DX ,0F2AH
[1510]    0A45: CD 10                                 INT 10H
[1511]        :                                       
[1512]        :                                       
[1513]    0A47: 60                                    PUSHA       ;draw arms
[1514]    0A48: B4 09                                 MOV AH,9
[1515]    0A4A: B7 00                                 MOV BH,0
[1516]    0A4C: B0 5E                                 MOV AL,'^'
[1517]    0A4E: B9 01 00                              MOV CX,1
[1518]    0A51: B3 04                                 MOV BL,4
[1519]    0A53: CD 10                                 INT 10H
[1520]    0A55: 61                                    POPA
[1521]        :                                       ;MOV AH,2
[1522]        :                                       ;MOV DL,'^'
[1523]        :                                       ;INT 21H
[1524]        :                                       
[1525]    0A56: B4 02                                 MOV AH,2       ;SET CURSOR
[1526]    0A58: BA 2A 10                              MOV  DX ,102AH
[1527]    0A5B: CD 10                                 INT 10H
[1528]        :                                       
[1529]    0A5D: 60                                    PUSHA           ;draw legs
[1530]    0A5E: B4 09                                 MOV AH,9
[1531]    0A60: B7 00                                 MOV BH,0
[1532]    0A62: B0 5E                                 MOV AL,'^'
[1533]    0A64: B9 01 00                              MOV CX,1
[1534]    0A67: B3 04                                 MOV BL,4
[1535]    0A69: CD 10                                 INT 10H
[1536]    0A6B: 61                                    POPA
[1537]        :                                       
[1538]        :                                       ;MOV AH,2
[1539]        :                                       ;MOV DL,'^'
[1540]        :                                       ;INT 21H
[1541]    0A6C: C3                                    RET
[1542]        :                                       ENDP DRAW_BP12
[1543]        :                                       ;////////////////////////////////////////
[1544]        :                                       
[1545]    0A6D:                                       PROC DRAW_LINE       ;a proc to draw a line
[1546]    0A6D: B9 50 00                              MOV CX,50H
[1547]    0A70:                                       DLINE:
[1548]    0A70: B4 02                                 MOV AH,2
[1549]    0A72: B2 04                                 MOV DL,04h
[1550]    0A74: CD 21                                 INT 21H
[1551]    0A76: 49                                    DEC CX
[1552]    0A77: 75 F7                                 JNZ DLINE
[1553]        :                                       
[1554]    0A79: C3                                    RET
[1555]        :                                       ENDP DRAW_LINE
[1556]        :                                       ;//////////////////////////////////////
[1557]    0A7A:                                       PROC CLEAR_LINE
[1558]    0A7A: B9 40 00                              MOV CX,40H
[1559]    0A7D:                                       DLINE22:
[1560]    0A7D: B4 02                                 MOV AH,2
[1561]    0A7F: B2 20                                 MOV DL,20H
[1562]    0A81: CD 21                                 INT 21H
[1563]    0A83: 49                                    DEC CX
[1564]    0A84: 75 F7                                 JNZ DLINE22
[1565]        :                                       
[1566]    0A86: C3                                    RET
[1567]        :                                       ENDP CLEAR_LINE
[1568]        :                                       ;/////////////////////////////////////
[1569]    0A87:                                       PROC INITIAL_SCORE
[1570]        :                                       
[1571]        :                                       
[1572]    0A87: E8 0E 05                              CALL GETPLAYER2NAME
[1573]    0A8A: 8A 2E 17 03                           mov ch,host
[1574]    0A8E: 80 FD 00                              cmp ch,0
[1575]    0A91: 74 6C                                 JE NOTHOST
[1576]        :                                       
[1577]    0A93: B4 02                                 MOV AH,2       ;SET CURSOR
[1578]    0A95: BA 00 11                              MOV  DX ,1100H
[1579]    0A98: CD 10                                 INT 10H
[1580]    0A9A: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[1581]        :                                       
[1582]    0A9D:                                       TYPE:     ;TYPE  letter by letter
[1583]    0A9D: B4 02                                 MOV AH,2
[1584]    0A9F: 8A 14                                 MOV DL,[SI]
[1585]    0AA1: CD 21                                 INT 21H
[1586]        :                                       
[1587]    0AA3: 46                                    INC SI
[1588]    0AA4: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[1589]    0AA7: 74 02                                 JZ typez
[1590]    0AA9: EB F2                                 JMP TYPE
[1591]        :                                       
[1592]    0AAB:                                       typez:
[1593]    0AAB: B4 09                                 MOV AH,9
[1594]    0AAD: BA C1 00                              MOV DX,OFFSET DISP6        ;disp score
[1595]    0AB0: CD 21                                 INT 21H
[1596]    0AB2: B4 02                                 MOV AH,2       ;SET CURSOR
[1597]    0AB4: BA 12 11                              MOV  DX ,1112H
[1598]    0AB7: CD 10                                 INT 10H
[1599]        :                                       ;MOV AH,2
[1600]        :                                       ;MOV DL,'0'
[1601]        :                                       ;INT 21H
[1602]        :                                       
[1603]    0AB9: 60                                    PUSHA         ;disp 0 intial score
[1604]    0ABA: B4 09                                 MOV AH,9
[1605]    0ABC: B7 00                                 MOV BH,0
[1606]    0ABE: B0 30                                 MOV AL,'0'
[1607]    0AC0: B9 01 00                              MOV CX,1
[1608]    0AC3: B3 03                                 MOV BL,03h
[1609]    0AC5: CD 10                                 INT 10H
[1610]    0AC7: 61                                    POPA
[1611]        :                                       
[1612]        :                                       ;///////////////////////////////////////
[1613]    0AC8: B4 02                                 MOV AH,2       ;SET CURSOR
[1614]    0ACA: BA 30 11                              MOV  DX ,1130H
[1615]    0ACD: CD 10                                 INT 10H
[1616]    0ACF: BE 26 03                              LEA SI,PLAYERNAME2[2]   ; load player 2 name
[1617]        :                                       ; rest of code is as for player 1
[1618]        :                                       
[1619]    0AD2:                                       TYPE2:
[1620]    0AD2: B4 02                                 MOV AH,2
[1621]    0AD4: 8A 14                                 MOV DL,[SI]
[1622]    0AD6: CD 21                                 INT 21H
[1623]        :                                       
[1624]    0AD8: 46                                    INC SI
[1625]    0AD9: 80 3C 0D                              CMP [SI],0DH
[1626]    0ADC: 74 02                                 JZ oo
[1627]    0ADE: EB F2                                 JMP TYPE2
[1628]    0AE0:                                       oo:
[1629]    0AE0: B4 09                                 MOV AH,9
[1630]    0AE2: BA C1 00                              MOV DX,OFFSET DISP6
[1631]    0AE5: CD 21                                 INT 21H
[1632]    0AE7: B4 02                                 MOV AH,2       ;SET CURSOR
[1633]    0AE9: BA 40 11                              MOV  DX ,1140H
[1634]    0AEC: CD 10                                 INT 10H
[1635]        :                                       ;MOV AH,2
[1636]        :                                       ;MOV DL,'0'
[1637]        :                                       ;INT 21H
[1638]        :                                       
[1639]    0AEE: 60                                    PUSHA
[1640]    0AEF: B4 09                                 MOV AH,9
[1641]    0AF1: B7 00                                 MOV BH,0
[1642]    0AF3: B0 30                                 MOV AL,'0'
[1643]    0AF5: B9 01 00                              MOV CX,1
[1644]    0AF8: B3 03                                 MOV BL,03h
[1645]    0AFA: CD 10                                 INT 10H
[1646]    0AFC: 61                                    POPA
[1647]        :                                       
[1648]    0AFD: EB 6A                                 JMP OUTATY
[1649]    0AFF:                                       NOTHOST:
[1650]    0AFF: B4 02                                 MOV AH,2       ;SET CURSOR
[1651]    0B01: BA 00 11                              MOV  DX ,1100H
[1652]    0B04: CD 10                                 INT 10H
[1653]        :                                       
[1654]    0B06: BE 26 03                              LEA SI,PLAYERNAME2[2]   ; load player 2 name
[1655]        :                                       ; rest of code is as for player 1
[1656]        :                                       
[1657]    0B09:                                       TYPE2NOT:
[1658]    0B09: B4 02                                 MOV AH,2
[1659]    0B0B: 8A 14                                 MOV DL,[SI]
[1660]    0B0D: CD 21                                 INT 21H
[1661]        :                                       
[1662]    0B0F: 46                                    INC SI
[1663]    0B10: 80 3C 0D                              CMP [SI],0DH
[1664]    0B13: 74 02                                 JZ ooNOT
[1665]    0B15: EB F2                                 JMP TYPE2NOT
[1666]    0B17:                                       ooNOT:
[1667]    0B17: B4 09                                 MOV AH,9
[1668]    0B19: BA C1 00                              MOV DX,OFFSET DISP6
[1669]    0B1C: CD 21                                 INT 21H
[1670]    0B1E: B4 02                                 MOV AH,2       ;SET CURSOR
[1671]    0B20: BA 40 11                              MOV  DX ,1140H
[1672]    0B23: CD 10                                 INT 10H
[1673]        :                                       ;MOV AH,2
[1674]        :                                       ;MOV DL,'0'
[1675]        :                                       ;INT 21H
[1676]        :                                       
[1677]    0B25: 60                                    PUSHA
[1678]    0B26: B4 09                                 MOV AH,9
[1679]    0B28: B7 00                                 MOV BH,0
[1680]    0B2A: B0 30                                 MOV AL,'0'
[1681]    0B2C: B9 01 00                              MOV CX,1
[1682]    0B2F: B3 03                                 MOV BL,03h
[1683]    0B31: CD 10                                 INT 10H
[1684]    0B33: 61                                    POPA
[1685]        :                                       
[1686]        :                                       ;///////////////////////////////////////
[1687]    0B34: B4 02                                 MOV AH,2       ;SET CURSOR
[1688]    0B36: BA 30 11                              MOV  DX ,1130H
[1689]    0B39: CD 10                                 INT 10H
[1690]        :                                       
[1691]        :                                       
[1692]    0B3B: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[1693]        :                                       
[1694]    0B3E:                                       TYPENOT:     ;TYPE  letter by letter
[1695]    0B3E: B4 02                                 MOV AH,2
[1696]    0B40: 8A 14                                 MOV DL,[SI]
[1697]    0B42: CD 21                                 INT 21H
[1698]        :                                       
[1699]    0B44: 46                                    INC SI
[1700]    0B45: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[1701]    0B48: 74 02                                 JZ typezNOT
[1702]    0B4A: EB F2                                 JMP TYPENOT
[1703]        :                                       
[1704]    0B4C:                                       typezNOT:
[1705]    0B4C: B4 09                                 MOV AH,9
[1706]    0B4E: BA C1 00                              MOV DX,OFFSET DISP6        ;disp score
[1707]    0B51: CD 21                                 INT 21H
[1708]    0B53: B4 02                                 MOV AH,2       ;SET CURSOR
[1709]    0B55: BA 12 11                              MOV  DX ,1112H
[1710]    0B58: CD 10                                 INT 10H
[1711]        :                                       ;MOV AH,2
[1712]        :                                       ;MOV DL,'0'
[1713]        :                                       ;INT 21H
[1714]        :                                       
[1715]    0B5A: 60                                    PUSHA         ;disp 0 intial score
[1716]    0B5B: B4 09                                 MOV AH,9
[1717]    0B5D: B7 00                                 MOV BH,0
[1718]    0B5F: B0 30                                 MOV AL,'0'
[1719]    0B61: B9 01 00                              MOV CX,1
[1720]    0B64: B3 03                                 MOV BL,03h
[1721]    0B66: CD 10                                 INT 10H
[1722]    0B68: 61                                    POPA
[1723]        :                                       
[1724]    0B69:                                       OUTATY:
[1725]    0B69: C3                                    RET
[1726]        :                                       ENDP INITIAL_SCORE
[1727]        :                                       ;////////////////////////////////////
[1728]    0B6A:                                       PROC SETGAME
[1729]    0B6A: BA 26 04                              MOV DX , 0426H
[1730]    0B6D: E8 D8 FD                              CALL DRAW_GOAL  ;draw goal
[1731]        :                                       ;MOV AH,2       ;SET CURSOR
[1732]        :                                       ;MOV  DX ,0500H
[1733]        :                                       ;INT 10H
[1734]        :                                       ;MOV AH,9
[1735]        :                                       ;MOV DX,OFFSET DISP7
[1736]        :                                       ;INT 21H
[1737]    0B70: E8 A1 FE                              CALL DRAW_BP12    ; draw plaer and goal
[1738]        :                                       
[1739]    0B73: E8 11 FF                              CALL INITIAL_SCORE   ; type initial scores
[1740]        :                                       
[1741]    0B76: BB 00 00                              MOV BX,0
[1742]    0B79: B4 02                                 MOV AH,2       ;SET CURSOR
[1743]    0B7B: BA 00 15                              MOV  DX,1500H
[1744]    0B7E: CD 10                                 INT 10H
[1745]        :                                       
[1746]    0B80: BE 26 03                              LEA SI,PLAYERNAME2[2]     ;LOAD player1 name
[1747]        :                                       
[1748]    0B83:                                       TYPEee34IN: ;TYPE  letter by letter
[1749]    0B83: B4 02                                 MOV AH,2
[1750]    0B85: 8A 14                                 MOV DL,[SI]
[1751]    0B87: CD 21                                 INT 21H
[1752]        :                                       
[1753]    0B89: 46                                    INC SI
[1754]    0B8A: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[1755]    0B8D: 74 02                                 JZ NA34IN
[1756]    0B8F: EB F2                                 JMP TYPEee34IN
[1757]    0B91:                                       NA34IN:
[1758]    0B91: B4 02                                 mov ah,2
[1759]    0B93: B2 3A                                 mov dl,':'
[1760]    0B95: CD 21                                 int 21h
[1761]        :                                       
[1762]    0B97: BB 00 00                              MOV BX,0
[1763]    0B9A: B4 02                                 MOV AH,2       ;SET CURSOR
[1764]    0B9C: BA 00 13                              MOV  DX ,1300H
[1765]    0B9F: CD 10                                 INT 10H
[1766]        :                                       
[1767]    0BA1: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[1768]        :                                       
[1769]    0BA4:                                       TYPEeeIN: ;TYPE  letter by letter
[1770]    0BA4: B4 02                                 MOV AH,2
[1771]    0BA6: 8A 14                                 MOV DL,[SI]
[1772]    0BA8: CD 21                                 INT 21H
[1773]        :                                       
[1774]    0BAA: 46                                    INC SI
[1775]    0BAB: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[1776]    0BAE: 74 02                                 JZ NAIN
[1777]    0BB0: EB F2                                 JMP TYPEeeIN
[1778]    0BB2:                                       NAIN:
[1779]    0BB2: B4 02                                 mov ah,2
[1780]    0BB4: B2 3A                                 mov dl,':'
[1781]    0BB6: CD 21                                 int 21h
[1782]        :                                       
[1783]    0BB8: B4 02                                 MOV AH,2       ;SET CURSOR
[1784]    0BBA: BA 00 12                              MOV  DX ,1200H
[1785]    0BBD: CD 10                                 INT 10H
[1786]    0BBF: E8 AB FE                              CALL DRAW_LINE
[1787]    0BC2: B4 02                                 MOV AH,2       ;SET CURSOR
[1788]    0BC4: BA 00 16                              MOV  DX ,1600H
[1789]    0BC7: CD 10                                 INT 10H
[1790]    0BC9: E8 A1 FE                              CALL DRAW_LINE
[1791]    0BCC: B4 02                                 MOV AH,2       ;SET CURSOR
[1792]    0BCE: BA 00 17                              MOV  DX ,1700H
[1793]    0BD1: CD 10                                 INT 10H
[1794]    0BD3: B4 09                                 MOV AH,9
[1795]    0BD5: BA A2 00                              MOV DX,OFFSET DISP5
[1796]    0BD8: CD 21                                 INT 21H
[1797]    0BDA: C3                                    RET
[1798]        :                                       ENDP SETGAME
[1799]        :                                       ;///////////////////////////////////
[1800]    0BDB:                                       PROC SETGAME2
[1801]        :                                       
[1802]    0BDB: E8 D0 FD                              CALL DELETE_GOAL   ; delete goal at old pos
[1803]        :                                       
[1804]    0BDE: 8B D3                                 MOV DX,BX
[1805]        :                                       
[1806]    0BE0: BB 00 00                              MOV BX,0
[1807]    0BE3: B4 02                                 MOV AH,2       ;SET CURSOR
[1808]    0BE5: CD 10                                 INT 10H
[1809]        :                                       
[1810]    0BE7: 52                                    PUSH DX        ; remove player at old pos
[1811]    0BE8: B4 02                                 MOV AH,2
[1812]    0BEA: B2 20                                 MOV DL,' '
[1813]    0BEC: CD 21                                 INT 21H
[1814]    0BEE: 5A                                    POP DX
[1815]        :                                       ;////remove kicker from infront of the ball
[1816]    0BEF: B4 02                                 MOV AH,2       ;SET CURSOR
[1817]    0BF1: BA 29 0E                              MOV  DX ,0E29H
[1818]    0BF4: CD 10                                 INT 10H
[1819]        :                                       
[1820]        :                                       
[1821]    0BF6: B4 02                                 MOV AH,2
[1822]    0BF8: B2 20                                 MOV DL,' '
[1823]    0BFA: CD 21                                 INT 21H
[1824]        :                                       
[1825]    0BFC: B4 02                                 MOV AH,2       ;SET CURSOR
[1826]    0BFE: BA 29 0F                              MOV  DX ,0F29H
[1827]    0C01: CD 10                                 INT 10H
[1828]        :                                       
[1829]        :                                       
[1830]    0C03: B4 02                                 MOV AH,2
[1831]    0C05: B2 20                                 MOV DL,' '
[1832]    0C07: CD 21                                 INT 21H
[1833]        :                                       
[1834]    0C09: B4 02                                 MOV AH,2       ;SET CURSOR
[1835]    0C0B: BA 29 0D                              MOV  DX ,0D29H
[1836]    0C0E: CD 10                                 INT 10H
[1837]        :                                       
[1838]        :                                       
[1839]    0C10: B4 02                                 MOV AH,2
[1840]    0C12: B2 20                                 MOV DL,' '
[1841]    0C14: CD 21                                 INT 21H
[1842]        :                                       
[1843]        :                                       
[1844]        :                                       
[1845]        :                                       
[1846]        :                                       
[1847]    0C16: BA 26 04                              MOV DX , 0426H
[1848]    0C19: E8 2C FD                              CALL DRAW_GOAL
[1849]    0C1C: E8 F5 FD                              CALL DRAW_BP12
[1850]        :                                       
[1851]    0C1F: C3                                    RET
[1852]        :                                       ENDP SETGAME2
[1853]        :                                       
[1854]        :                                       ;////////////////////////////////////
[1855]        :                                       
[1856]        :                                       
[1857]    0C20:                                       PROC MOVE_BALL
[1858]        :                                       
[1859]    0C20: 52                                    PUSH DX
[1860]    0C21: 53                                    PUSH BX
[1861]        :                                       
[1862]        :                                       
[1863]    0C22: BB 00 00                              MOV  BX,0
[1864]    0C25: B4 02                                 MOV AH,2       ;SET CURSOR
[1865]    0C27: BA 28 0F                              MOV  DX ,0F28H
[1866]    0C2A: CD 10                                 INT 10H
[1867]        :                                       
[1868]    0C2C: B4 02                                 mov ah, 02h         ; DOS Display character call
[1869]    0C2E: B2 20                                 mov dl, 20h         ; A space to clear old character
[1870]    0C30: CD 21                                 int 21h             ; Display it
[1871]        :                                       
[1872]        :                                       
[1873]    0C32: B4 02                                 MOV AH,2       ;SET CURSOR
[1874]    0C34: BA 29 0F                              MOV  DX ,0F29H
[1875]    0C37: CD 10                                 INT 10H
[1876]        :                                       ;move the player leg back after he shot the ball
[1877]    0C39: 60                                    PUSHA
[1878]    0C3A: B4 09                                 MOV AH,9
[1879]    0C3C: B7 00                                 MOV BH,0
[1880]    0C3E: B0 5E                                 MOV AL,'^'
[1881]    0C40: B9 01 00                              MOV CX,1
[1882]    0C43: B3 04                                 MOV BL,4
[1883]    0C45: CD 10                                 INT 10H
[1884]    0C47: 61                                    POPA
[1885]        :                                       
[1886]        :                                       ;/////////////////
[1887]    0C48: 5B                                    POP BX
[1888]    0C49: 53                                    PUSH BX
[1889]        :                                       
[1890]    0C4A: B9 28 0F                              MOV CX,0F28H    ;the initial ball pos
[1891]        :                                       ; calc midpoint between initial ball pos
[1892]        :                                       ;and ball destination
[1893]        :                                       ; to draw the ball in between
[1894]    0C4D: 8A C1                                 MOV AL,CL
[1895]        :                                       
[1896]    0C4F: 2A EF                                 SUB CH,BH
[1897]        :                                       
[1898]    0C51: 2A CB                                 SUB CL,BL
[1899]        :                                       
[1900]    0C53: 3A C3                                 CMP AL,BL
[1901]    0C55: 73 35                                 JNB STL    ;if the answer is positive we will calc in stl label
[1902]    0C57: F6 D9                                 NEG CL        ; if answer is in negative get 2's comp
[1903]        :                                       
[1904]        :                                       ;ball dest is at right of the origin
[1905]    0C59: B8 00 00                              MOV AX,0000H
[1906]        :                                       
[1907]    0C5C: 8A C1                                 MOV AL,CL
[1908]    0C5E: B2 02                                 MOV DL,2
[1909]    0C60: F6 F2                                 DIV DL
[1910]    0C62: 8A D0                                 MOV DL,AL
[1911]        :                                       
[1912]    0C64: B4 00                                 MOV AH,0
[1913]    0C66: 8A C5                                 MOV AL,CH
[1914]    0C68: B1 02                                 MOV CL,2
[1915]    0C6A: F6 F1                                 DIV CL
[1916]    0C6C: 8A F0                                 MOV DH,AL
[1917]        :                                       
[1918]    0C6E: 81 C2 28 06                           ADD DX,0628H     ;the origin point must be added to the point we got
[1919]        :                                       ;/////now we have the mid point between the two positions
[1920]    0C72: BB 00 00                              MOV BX,0
[1921]    0C75: B4 02                                 MOV AH,2       ;SET CURSOR
[1922]    0C77: CD 10                                 INT 10H
[1923]        :                                       
[1924]    0C79: 52                                    PUSH DX
[1925]        :                                       
[1926]    0C7A: B4 02                                 MOV AH,2
[1927]    0C7C: B2 4F                                 MOV DL,'O'
[1928]    0C7E: CD 21                                 INT 21H
[1929]        :                                       
[1930]        :                                       
[1931]        :                                       
[1932]    0C80: 5A                                    POP DX
[1933]    0C81: EB 3E                                 JMP BM
[1934]        :                                       
[1935]    0C83: E8 28 FA                              CALL DELAY
[1936]    0C86: E8 25 FA                              CALL DELAY
[1937]    0C89: E8 22 FA                              CALL DELAY
[1938]        :                                       ;///////////////
[1939]        :                                       
[1940]    0C8C:                                       STL:    ; ball is at left of the origin
[1941]    0C8C: B8 00 00                              MOV AX,0000H
[1942]        :                                       
[1943]    0C8F: 8A C1                                 MOV AL,CL
[1944]    0C91: B2 02                                 MOV DL,2
[1945]    0C93: F6 F2                                 DIV DL
[1946]    0C95: 8A D0                                 MOV DL,AL
[1947]        :                                       
[1948]    0C97: B4 00                                 MOV AH,0
[1949]    0C99: 8A C5                                 MOV AL,CH
[1950]    0C9B: B1 02                                 MOV CL,2
[1951]    0C9D: F6 F1                                 DIV CL
[1952]    0C9F: 8A F0                                 MOV DH,AL
[1953]        :                                       
[1954]    0CA1: 80 C6 06                              ADD DH,06H
[1955]    0CA4: 02 D3                                 ADD DL,BL        ; origin point here differs
[1956]        :                                       
[1957]    0CA6: BB 00 00                              MOV BX,0
[1958]        :                                       
[1959]    0CA9: B4 02                                 MOV AH,2       ;SET CURSOR
[1960]    0CAB: CD 10                                 INT 10H
[1961]        :                                       
[1962]    0CAD: 52                                    PUSH DX
[1963]    0CAE: B4 02                                 MOV AH,2
[1964]    0CB0: B2 4F                                 MOV DL,'O'
[1965]    0CB2: CD 21                                 INT 21H
[1966]        :                                       
[1967]        :                                       
[1968]    0CB4: 5A                                    POP DX
[1969]        :                                       
[1970]    0CB5: E8 F6 F9                              CALL DELAY
[1971]    0CB8: E8 F3 F9                              CALL DELAY
[1972]    0CBB: E8 F0 F9                              CALL DELAY
[1973]    0CBE: E8 ED F9                              CALL DELAY
[1974]        :                                       
[1975]        :                                       ;////////////////
[1976]        :                                       
[1977]    0CC1:                                       BM:        ;draw ball at destination
[1978]        :                                       
[1979]    0CC1: BB 00 00                              MOV BX,0
[1980]    0CC4: B4 02                                 MOV AH,2       ;SET CURSOR
[1981]    0CC6: CD 10                                 INT 10H
[1982]        :                                       
[1983]    0CC8: 52                                    PUSH DX
[1984]    0CC9: B4 02                                 MOV AH,2
[1985]    0CCB: B2 20                                 MOV DL,' '
[1986]    0CCD: CD 21                                 INT 21H
[1987]    0CCF: 5A                                    POP DX
[1988]        :                                       
[1989]        :                                       
[1990]    0CD0: 5B                                    POP BX
[1991]        :                                       
[1992]    0CD1: 53                                    PUSH BX
[1993]    0CD2: 8B D3                                 MOV DX,BX
[1994]        :                                       
[1995]    0CD4: BB 00 00                              MOV BX,0
[1996]    0CD7: B4 02                                 MOV AH,2       ;SET CURSOR
[1997]    0CD9: CD 10                                 INT 10H
[1998]        :                                       
[1999]    0CDB: 52                                    PUSH DX
[2000]        :                                       
[2001]        :                                       
[2002]        :                                       
[2003]        :                                       
[2004]    0CDC: B4 02                                 MOV AH,2
[2005]    0CDE: B2 4F                                 MOV DL,'O'
[2006]    0CE0: CD 21                                 INT 21H
[2007]    0CE2: 5A                                    POP DX
[2008]        :                                       
[2009]    0CE3: E8 C8 F9                              CALL DELAY
[2010]    0CE6: E8 C5 F9                              CALL DELAY
[2011]    0CE9: E8 C2 F9                              CALL DELAY
[2012]        :                                       
[2013]    0CEC: 5B                                    POP BX
[2014]    0CED: 5A                                    POP DX
[2015]        :                                       
[2016]    0CEE: C3                                    RET
[2017]        :                                       ENDP MOVE_BALL
[2018]        :                                       ;///////////////////////////////////////////////////////
[2019]    0CEF:                                       PROC CONFIGURATION
[2020]        :                                       ;CONFIGURATION
[2021]    0CEF: BA FB 03                              mov dx,3fbh  ;SET DIVISOR MODE
[2022]    0CF2: B0 80                                 mov al,10000000b
[2023]    0CF4: EE                                    out dx,al
[2024]        :                                       ;LOWER BITS OF DIVISOR
[2025]    0CF5: BA F8 03                              mov dx,3f8h
[2026]    0CF8: B0 0C                                 mov al,0Ch
[2027]    0CFA: EE                                    out dx,al
[2028]        :                                       
[2029]    0CFB: BA F9 03                              mov dx,3f9h       ;HIGHER BITS OF DIVISOR
[2030]    0CFE: B0 00                                 mov al,00h
[2031]    0D00: EE                                    out dx,al
[2032]        :                                       
[2033]    0D01: BA FB 03                              mov dx,3fbh               ; SET PARITY AND NUMBER OF BITS
[2034]    0D04: B0 1B                                 mov al,00011011b
[2035]    0D06: EE                                    out dx,al
[2036]    0D07: C3                                    RET
[2037]        :                                       ENDP CONFIGURATION
[2038]        :                                       ;//////////////////////////////////////////////////////
[2039]        :                                       
[2040]        :                                       ;/////////////////////////////////////////////////////
[2041]    0D08:                                       PROC CHAT
[2042]    0D08: 60                                    PUSHA
[2043]        :                                       
[2044]    0D09: E8 8C 02                              CALL GETPLAYER2NAME
[2045]    0D0C: E8 13 FC                              CALL CLEAR_SCREEN
[2046]        :                                       
[2047]        :                                       
[2048]    0D0F: BB 00 00                              MOV BX,0
[2049]    0D12: B4 02                                 MOV AH,2       ;SET CURSOR
[2050]    0D14: BA 00 0D                              MOV  DX,0D00H
[2051]    0D17: CD 10                                 INT 10H
[2052]        :                                       
[2053]    0D19: BE 26 03                              LEA SI,PLAYERNAME2[2]     ;LOAD player2 name
[2054]        :                                       
[2055]    0D1C:                                       TYPEee34: ;TYPE  letter by letter
[2056]    0D1C: B4 02                                 MOV AH,2
[2057]    0D1E: 8A 14                                 MOV DL,[SI]
[2058]    0D20: CD 21                                 INT 21H
[2059]        :                                       
[2060]    0D22: 46                                    INC SI
[2061]    0D23: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2062]    0D26: 74 02                                 JZ NA34
[2063]    0D28: EB F2                                 JMP TYPEee34
[2064]    0D2A:                                       NA34:
[2065]    0D2A: B4 02                                 mov ah,2
[2066]    0D2C: B2 3A                                 mov dl,':'
[2067]    0D2E: CD 21                                 int 21h
[2068]        :                                       
[2069]    0D30: BB 00 00                              MOV BX,0
[2070]    0D33: B4 02                                 MOV AH,2       ;SET CURSOR
[2071]    0D35: BA 00 0C                              MOV  DX ,0C00H
[2072]    0D38: CD 10                                 INT 10H
[2073]        :                                       
[2074]    0D3A: E8 30 FD                              CALL DRAW_LINE
[2075]        :                                       
[2076]    0D3D: BB 00 00                              MOV BX,0
[2077]    0D40: B4 02                                 MOV AH,2       ;SET CURSOR
[2078]    0D42: BA 00 00                              MOV  DX ,0000H
[2079]    0D45: CD 10                                 INT 10H
[2080]        :                                       
[2081]    0D47: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[2082]        :                                       
[2083]    0D4A:                                       TYPEee: ;TYPE  letter by letter
[2084]    0D4A: B4 02                                 MOV AH,2
[2085]    0D4C: 8A 14                                 MOV DL,[SI]
[2086]    0D4E: CD 21                                 INT 21H
[2087]        :                                       
[2088]    0D50: 46                                    INC SI
[2089]    0D51: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2090]    0D54: 74 02                                 JZ NA
[2091]    0D56: EB F2                                 JMP TYPEee
[2092]    0D58:                                       NA:
[2093]    0D58: B4 02                                 mov ah,2
[2094]    0D5A: B2 3A                                 mov dl,':'
[2095]    0D5C: CD 21                                 int 21h
[2096]        :                                       
[2097]        :                                       ;GET KEYBOARD
[2098]    0D5E: B4 02                                 MOV AH,2       ;SET CURSOR
[2099]    0D60: BA 00 01                              MOV  DX ,0100H
[2100]    0D63: CD 10                                 INT 10H
[2101]        :                                       
[2102]    0D65:                                       iskey:
[2103]        :                                       
[2104]    0D65: B4 01                                 mov ah,1
[2105]    0D67: CD 16                                 int 16h
[2106]    0D69: 74 42                                 jz NoKey3
[2107]        :                                       
[2108]    0D6B: B4 00                                 mov ah,0
[2109]    0D6D: CD 16                                 int 16h
[2110]        :                                       
[2111]        :                                       
[2112]        :                                       
[2113]        :                                       ;SEND
[2114]    0D6F: 3C 0D                                 CMP AL,0DH     ;if enter pressed print new line
[2115]    0D71: 75 0B                                 Jne ESS2
[2116]    0D73: 50                                    PUSH AX
[2117]    0D74: B4 09                                 MOV AH,9
[2118]    0D76: BA 9F 00                              MOV DX,OFFSET LL
[2119]    0D79: CD 21                                 INT 21H
[2120]    0D7B: 58                                    POP AX
[2121]        :                                       
[2122]    0D7C: EB 14                                 JMP ssss
[2123]    0D7E:                                       ESS2:
[2124]    0D7E: E8 98 00                              call writecurw
[2125]    0D81: 3C 1B                                 CMP AL,1BH     ;if esc pressed return to menu
[2126]    0D83: 74 0D                                 JE SSSS
[2127]    0D85: A2 11 03                              mov outdata,al
[2128]    0D88: 50                                    PUSH AX
[2129]    0D89: B4 02                                 mov ah,2
[2130]    0D8B: 8A 16 11 03                           mov dl,OUTDATA
[2131]    0D8F: CD 21                                 int 21h
[2132]    0D91: 58                                    POP AX
[2133]    0D92:                                       ssss:
[2134]    0D92: A2 11 03                              MOV OUTDATA,AL
[2135]    0D95: E8 65 00                              call readcurw
[2136]    0D98: BA FD 03                              mov dx,3FDh
[2137]    0D9B:                                       AGAIN:
[2138]    0D9B: EC                                    In al,dx
[2139]    0D9C: 24 20                                 And Al,00100000b
[2140]    0D9E: 74 FB                                 JZ AGAIN
[2141]        :                                       
[2142]    0DA0: BA F8 03                              mov dx,3F8h
[2143]    0DA3: A0 11 03                              mov al,OUTDATA
[2144]    0DA6: EE                                    out dx,al
[2145]    0DA7: 3C 1B                                 CMP AL,1BH
[2146]    0DA9: 74 34                                 JE BYEY
[2147]    0DAB: EB B8                                 JMP iskey
[2148]        :                                       
[2149]        :                                       
[2150]        :                                       ;Receiving
[2151]    0DAD:                                       NoKey3:
[2152]    0DAD: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2153]        :                                       
[2154]    0DB0:                                       chk:
[2155]    0DB0: EC                                    in al,dx
[2156]    0DB1: 24 01                                 AND al,1
[2157]    0DB3: 74 B0                                 JZ iskey
[2158]        :                                       ;SOMETHING RECIEVED
[2159]    0DB5: BA F8 03                              mov dx,03F8h
[2160]    0DB8: EC                                    in al,dx
[2161]    0DB9: A2 12 03                              mov INDATA,al
[2162]        :                                       
[2163]    0DBC: 3C 1B                                 CMP AL,1BH
[2164]    0DBE: 74 1F                                 JE BYEY
[2165]        :                                       
[2166]    0DC0: 3C 0D                                 CMP AL,0DH
[2167]    0DC2: 75 0B                                 Jne ESS
[2168]        :                                       
[2169]    0DC4: 50                                    PUSH AX
[2170]    0DC5: B4 09                                 MOV AH,9
[2171]    0DC7: BA 9F 00                              MOV DX,OFFSET LL
[2172]    0DCA: CD 21                                 INT 21H
[2173]    0DCC: 58                                    POP AX
[2174]        :                                       
[2175]        :                                       
[2176]    0DCD: EB 0B                                 JMP CZ
[2177]        :                                       
[2178]    0DCF:                                       ESS:
[2179]    0DCF: E8 3A 00                              call writecurr                            ;PRINT WHATS RECIEV
[2180]    0DD2: B4 02                                 mov ah,2
[2181]    0DD4: 8A 16 12 03                           mov dl,INDATA
[2182]    0DD8: CD 21                                 int 21h
[2183]        :                                       
[2184]    0DDA:                                       CZ:
[2185]    0DDA: E8 11 00                              call readcurr
[2186]    0DDD: EB 86                                 Jmp iskey
[2187]        :                                       
[2188]    0DDF:                                       BYEY:
[2189]    0DDF: C6 06 18 03 00                        MOV REQ,0            ;
[2190]    0DE4: C6 06 17 03 00                        MOV HOST,0
[2191]        :                                       
[2192]    0DE9: 61                                    POPA
[2193]    0DEA: E9 71 F5                              JMP OPTIONS
[2194]    0DED: C3                                    RET
[2195]        :                                       ENDP CHAT
[2196]        :                                       ;////////////////////////////////////////////////////
[2197]    0DEE:                                       readcurr proc
[2198]    0DEE: B4 03                                 mov ah,3h
[2199]    0DF0: B7 00                                 mov bh,0h
[2200]    0DF2: CD 10                                 int 10h
[2201]    0DF4: 88 16 13 03                           mov  readcurx,dl
[2202]    0DF8: 88 36 14 03                           mov readcury,dh
[2203]    0DFC: C3                                    ret
[2204]        :                                       endp
[2205]        :                                       
[2206]    0DFD:                                       readcurw proc
[2207]    0DFD: B4 03                                 mov ah,3h
[2208]    0DFF: B7 00                                 mov bh,0h
[2209]    0E01: CD 10                                 int 10h
[2210]    0E03: 88 16 15 03                           mov  writecurx,dl
[2211]    0E07: 88 36 16 03                           mov writecury,dh
[2212]    0E0B: C3                                    ret
[2213]        :                                       endp
[2214]        :                                       
[2215]    0E0C:                                       writecurr proc  ;changes cursor
[2216]    0E0C: B4 02                                 mov ah,2
[2217]    0E0E: 8A 16 13 03                           mov dl,readcurx
[2218]    0E12: 8A 36 14 03                           mov dh,readcury
[2219]    0E16: CD 10                                 int 10h
[2220]        :                                       
[2221]    0E18: C3                                    ret
[2222]        :                                       endp
[2223]        :                                       
[2224]    0E19:                                       writecurw proc
[2225]    0E19: B4 02                                 mov ah,2
[2226]    0E1B: 8A 16 15 03                           mov dl,writecurx
[2227]    0E1F: 8A 36 16 03                           mov dh,writecury
[2228]    0E23: CD 10                                 int 10h
[2229]    0E25: C3                                    ret
[2230]        :                                       endp
[2231]        :                                       ;//////////////////////////////////////////////////////
[2232]        :                                       
[2233]        :                                       
[2234]        :                                       
[2235]        :                                       
[2236]        :                                       ;/////////////////////////////////////////////////////
[2237]    0E26:                                       Proc GETKEY  ;get key press either from player 1 or 2
[2238]    0E26: B0 00                                 MOV AL,0
[2239]    0E28:                                       AV:
[2240]        :                                       
[2241]    0E28: B4 01                                 mov ah,1
[2242]    0E2A: CD 16                                 int 16H
[2243]    0E2C: 74 2E                                 jz NoKey00
[2244]        :                                       
[2245]    0E2E: B4 00                                 mov ah,0
[2246]    0E30: CD 16                                 int 16h
[2247]    0E32: C6 06 19 03 01                        MOV PRESS,1      ;set press 1 if you pressed the letter
[2248]        :                                       
[2249]        :                                       
[2250]    0E37: 80 3E 17 03 00                        CMP HOST,0
[2251]    0E3C: 75 08                                 JNE SSSSXX
[2252]    0E3E: 3C 20                                 CMP AL,20H      ;if the player that is not his turn press space ignore the press
[2253]    0E40: 75 04                                 JNE SSSSXX
[2254]    0E42: B0 00                                 MOV AL,0
[2255]    0E44: EB 16                                 JMP NoKey00
[2256]        :                                       
[2257]    0E46:                                       SSSSXX:
[2258]        :                                       ;SEND
[2259]    0E46: A2 11 03                              mov outdata,al
[2260]    0E49: BA FD 03                              mov dx,3FDh
[2261]    0E4C:                                       AGAIN00:
[2262]    0E4C: EC                                    In al,dx
[2263]    0E4D: 24 20                                 And Al,00100000b
[2264]    0E4F: 74 FB                                 JZ AGAIN00
[2265]        :                                       
[2266]        :                                       
[2267]    0E51: BA F8 03                              mov dx,3F8h
[2268]    0E54: A0 11 03                              mov al,OUTDATA
[2269]    0E57: 50                                    PUSH AX
[2270]    0E58: EE                                    out dx,al
[2271]    0E59: 58                                    POP AX
[2272]    0E5A: EB 16                                 JMP iskey00
[2273]        :                                       
[2274]        :                                       
[2275]        :                                       ;Receiving
[2276]    0E5C:                                       NoKey00:
[2277]    0E5C: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2278]        :                                       
[2279]    0E5F:                                       chk00:
[2280]    0E5F: EC                                    in al,dx
[2281]    0E60: 24 01                                 AND al,1
[2282]    0E62: 74 0E                                 JZ iskey00
[2283]        :                                       
[2284]    0E64: C6 06 19 03 00                        MOV PRESS,0
[2285]        :                                       ;SOMETHING RECIEVED
[2286]    0E69: BA F8 03                              mov dx,03F8h
[2287]    0E6C: EC                                    in al,dx
[2288]    0E6D: 50                                    PUSH AX
[2289]    0E6E: A2 12 03                              mov INDATA,al
[2290]    0E71: 58                                    POP AX
[2291]    0E72:                                       ISKEY00:
[2292]    0E72: 3C 00                                 CMP AL,0      ;if al contains a press pass the proc
[2293]    0E74: 74 B2                                 JE AV
[2294]    0E76: C3                                    RET
[2295]        :                                       ENDP GETKEY
[2296]        :                                       
[2297]        :                                       
[2298]        :                                       ;///////////////////////////////////////////////////////
[2299]    0E77:                                       Proc GETKEY2  ;for 2nd turn
[2300]    0E77: B0 00                                 MOV AL,0
[2301]    0E79:                                       AVGTK:
[2302]        :                                       
[2303]    0E79: B4 01                                 mov ah,1
[2304]    0E7B: CD 16                                 int 16H
[2305]    0E7D: 74 2E                                 jz NoKey00GTK
[2306]        :                                       
[2307]    0E7F: B4 00                                 mov ah,0
[2308]    0E81: CD 16                                 int 16h
[2309]    0E83: C6 06 19 03 01                        MOV PRESS,1
[2310]        :                                       
[2311]    0E88: 80 3E 17 03 01                        CMP HOST,1
[2312]    0E8D: 75 08                                 JNE SSSGTK
[2313]    0E8F: 3C 20                                 CMP AL,20H
[2314]    0E91: 75 04                                 JNE SSSGTK
[2315]    0E93: B0 00                                 MOV AL,0
[2316]    0E95: EB 16                                 JMP NoKey00GTK
[2317]        :                                       
[2318]    0E97:                                       SSSGTK:
[2319]        :                                       
[2320]        :                                       ;SEND
[2321]    0E97: A2 11 03                              mov outdata,al
[2322]    0E9A: BA FD 03                              mov dx,3FDh
[2323]    0E9D:                                       AGAIN00GTK:
[2324]    0E9D: EC                                    In al,dx
[2325]    0E9E: 24 20                                 And Al,00100000b
[2326]    0EA0: 74 FB                                 JZ AGAIN00GTK
[2327]        :                                       
[2328]        :                                       
[2329]    0EA2: BA F8 03                              mov dx,3F8h
[2330]    0EA5: A0 11 03                              mov al,OUTDATA
[2331]    0EA8: 50                                    PUSH AX
[2332]    0EA9: EE                                    out dx,al
[2333]    0EAA: 58                                    POP AX
[2334]    0EAB: EB 16                                 JMP iskey00GTK
[2335]        :                                       
[2336]        :                                       
[2337]        :                                       ;Receiving
[2338]    0EAD:                                       NoKey00GTK:
[2339]    0EAD: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2340]        :                                       
[2341]    0EB0:                                       chk00GTK:
[2342]    0EB0: EC                                    in al,dx
[2343]    0EB1: 24 01                                 AND al,1
[2344]    0EB3: 74 0E                                 JZ iskey00GTK
[2345]        :                                       
[2346]    0EB5: C6 06 19 03 00                        MOV PRESS,0
[2347]        :                                       ;SOMETHING RECIEVED
[2348]    0EBA: BA F8 03                              mov dx,03F8h
[2349]    0EBD: EC                                    in al,dx
[2350]    0EBE: 50                                    PUSH AX
[2351]    0EBF: A2 12 03                              mov INDATA,al
[2352]    0EC2: 58                                    POP AX
[2353]    0EC3:                                       ISKEY00GTK:
[2354]    0EC3: 3C 00                                 CMP AL,0
[2355]    0EC5: 74 B2                                 JE AVGTK
[2356]    0EC7: C3                                    RET
[2357]        :                                       ENDP GETKEY2
[2358]        :                                       
[2359]        :                                       
[2360]        :                                       ;//////////////////////////////////////////////////////
[2361]        :                                       ;//////////////////////////////////////////////////////
[2362]    0EC8:                                       PROC INGAMECHAT
[2363]    0EC8: 60                                    PUSHA
[2364]        :                                       
[2365]        :                                       ;GET KEYBOARD
[2366]    0EC9: B4 02                                 MOV AH,2       ;SET CURSOR
[2367]    0ECB: BA 0A 13                              MOV  DX ,130AH
[2368]    0ECE: CD 10                                 INT 10H
[2369]        :                                       
[2370]    0ED0:                                       iskeyIN:
[2371]    0ED0: B4 01                                 mov ah,1
[2372]        :                                       
[2373]    0ED2: CD 16                                 int 16h
[2374]    0ED4: 74 4A                                 jz NoKey3IN
[2375]    0ED6: B4 00                                 mov ah,0
[2376]    0ED8: CD 16                                 int 16h
[2377]        :                                       
[2378]        :                                       ;SEND
[2379]    0EDA: 3C 0D                                 CMP AL,0DH
[2380]    0EDC: 75 18                                 Jne ESS2IN
[2381]        :                                       
[2382]    0EDE: 50                                    PUSH AX
[2383]    0EDF: B4 02                                 MOV AH,2       ;SET CURSOR
[2384]    0EE1: BA 0A 13                              MOV  DX ,130AH
[2385]    0EE4: CD 10                                 INT 10H
[2386]        :                                       
[2387]    0EE6: E8 91 FB                              CALL CLEAR_LINE   ;clears line if enter pressed and sets cursor to start of the line
[2388]    0EE9: B4 02                                 MOV AH,2       ;SET CURSOR
[2389]    0EEB: BA 0A 13                              MOV  DX ,130AH
[2390]    0EEE: CD 10                                 INT 10H
[2391]    0EF0: 58                                    POP AX
[2392]    0EF1: A2 11 03                              MOV OUTDATA,AL
[2393]    0EF4: EB 12                                 JMP ssssIN
[2394]    0EF6:                                       ESS2IN:
[2395]    0EF6: E8 92 00                              call writecurwIN
[2396]    0EF9: A2 11 03                              mov outdata,al
[2397]        :                                       
[2398]    0EFC: 3C 1B                                 CMP AL,1BH
[2399]    0EFE: 74 08                                 JE SSSSIN
[2400]        :                                       
[2401]    0F00: B4 02                                 mov ah,2
[2402]    0F02: 8A 16 11 03                           mov dl,OUTDATA
[2403]    0F06: CD 21                                 int 21h
[2404]        :                                       
[2405]    0F08:                                       ssssIN:
[2406]    0F08: E8 64 00                              call readcurwIN
[2407]    0F0B: BA FD 03                              mov dx,3FDh
[2408]        :                                       
[2409]    0F0E:                                       AGAININ:
[2410]    0F0E: EC                                    In al,dx
[2411]    0F0F: 24 20                                 And Al,00100000b
[2412]    0F11: 74 FB                                 JZ AGAININ
[2413]        :                                       
[2414]    0F13: BA F8 03                              mov dx,3F8h
[2415]    0F16: A0 11 03                              mov al,OUTDATA
[2416]    0F19: EE                                    out dx,al
[2417]    0F1A: 3C 1B                                 CMP AL,1BH
[2418]    0F1C: 74 40                                 JE BYE
[2419]    0F1E: EB B0                                 JMP iskeyIN
[2420]        :                                       
[2421]        :                                       
[2422]        :                                       ;Receiving
[2423]    0F20:                                       NoKey3IN:
[2424]    0F20: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2425]        :                                       
[2426]    0F23:                                       chkIN:
[2427]    0F23: EC                                    in al,dx
[2428]    0F24: 24 01                                 AND al,1
[2429]    0F26: 74 A8                                 JZ iskeyIN
[2430]        :                                       ;SOMETHING RECIEVED
[2431]    0F28: BA F8 03                              mov dx,03F8h
[2432]    0F2B: EC                                    in al,dx
[2433]    0F2C: A2 12 03                              mov INDATA,al
[2434]    0F2F: 3C 1B                                 CMP AL,1BH
[2435]    0F31: 74 2B                                 JE BYE
[2436]    0F33: 3C 0D                                 CMP AL,0DH
[2437]    0F35: 75 16                                 Jne ESSIN
[2438]        :                                       
[2439]    0F37: B4 02                                 MOV AH,2       ;SET CURSOR
[2440]    0F39: BB 00 00                              MOV BX,0
[2441]    0F3C: BA 0A 15                              MOV  DX ,150AH
[2442]    0F3F: CD 10                                 INT 10H
[2443]        :                                       
[2444]    0F41: E8 36 FB                              CALL CLEAR_LINE
[2445]    0F44: B4 02                                 MOV AH,2       ;SET CURSOR
[2446]    0F46: BA 0A 15                              MOV  DX ,150AH
[2447]    0F49: CD 10                                 INT 10H
[2448]    0F4B: EB 0B                                 JMP CZIN
[2449]    0F4D:                                       ESSIN:
[2450]    0F4D: E8 2E 00                              call writecurrIN                            ;PRINT WHATS RECIEV
[2451]    0F50: B4 02                                 mov ah,2
[2452]    0F52: 8A 16 12 03                           mov dl,INDATA
[2453]    0F56: CD 21                                 int 21h
[2454]    0F58:                                       CZIN:
[2455]    0F58: E8 05 00                              call readcurrIN
[2456]    0F5B: E9 72 FF                              Jmp iskeyIN
[2457]    0F5E:                                       BYE:
[2458]    0F5E: 61                                    POPA
[2459]    0F5F: C3                                    RET
[2460]        :                                       ENDP INGAMECHAT
[2461]        :                                       ;//////////////////////////////////////////////////
[2462]        :                                       
[2463]    0F60:                                       readcurrIN proc
[2464]    0F60: B4 03                                 mov ah,3h
[2465]    0F62: B7 00                                 mov bh,0h
[2466]    0F64: CD 10                                 int 10h
[2467]    0F66: 88 16 1A 03                           mov  readcurxIN,dl
[2468]    0F6A: 88 36 1B 03                           mov readcuryIN,dh
[2469]    0F6E: C3                                    ret
[2470]        :                                       endp
[2471]        :                                       
[2472]    0F6F:                                       readcurwIN proc
[2473]    0F6F: B4 03                                 mov ah,3h
[2474]    0F71: B7 00                                 mov bh,0h
[2475]    0F73: CD 10                                 int 10h
[2476]    0F75: 88 16 1C 03                           mov  writecurxIN,dl
[2477]    0F79: 88 36 1D 03                           mov writecuryIN,dh
[2478]    0F7D: C3                                    ret
[2479]        :                                       endp
[2480]        :                                       
[2481]    0F7E:                                       writecurrIN proc  ;changes cursor
[2482]    0F7E: B4 02                                 mov ah,2
[2483]    0F80: 8A 16 1A 03                           mov dl,readcurxIN
[2484]    0F84: 8A 36 1B 03                           mov dh,readcuryIN
[2485]    0F88: CD 10                                 int 10h
[2486]        :                                       
[2487]    0F8A: C3                                    ret
[2488]        :                                       endp
[2489]        :                                       
[2490]    0F8B:                                       writecurwIN proc
[2491]    0F8B: B4 02                                 mov ah,2
[2492]    0F8D: 8A 16 1C 03                           mov dl,writecurxIN
[2493]    0F91: 8A 36 1D 03                           mov dh,writecuryIN
[2494]    0F95: CD 10                                 int 10h
[2495]    0F97: C3                                    ret
[2496]        :                                       endp
[2497]        :                                       
[2498]        :                                       
[2499]        :                                       ;///////////////////////////////////////////////////
[2500]    0F98:                                       PROC GETPLAYER2NAME     ;exchange player 2 name
[2501]    0F98: 60                                    PUSHA
[2502]        :                                       
[2503]    0F99: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[2504]    0F9C: BF 26 03                              LEA DI,PLAYERNAME2[2]
[2505]        :                                       
[2506]    0F9F:                                       PLPL:
[2507]    0F9F: 80 3E 17 03 01                        CMP HOST,1      ;sends host name first
[2508]    0FA4: 75 1C                                 JNE  RECNN
[2509]        :                                       
[2510]    0FA6: 8A 04                                 MOV AL,[SI]
[2511]        :                                       
[2512]        :                                       ;SEND     LETTER BY LETTER
[2513]    0FA8: A2 11 03                              mov outdata,al
[2514]    0FAB: BA FD 03                              mov dx,3FDh
[2515]    0FAE:                                       AGAIN000:
[2516]    0FAE: EC                                    In al,dx
[2517]    0FAF: 24 20                                 And Al,00100000b
[2518]    0FB1: 74 FB                                 JZ AGAIN000
[2519]        :                                       
[2520]    0FB3: BA F8 03                              mov dx,3F8h
[2521]    0FB6: A0 11 03                              mov al,OUTDATA
[2522]    0FB9: EE                                    out dx,al
[2523]        :                                       
[2524]    0FBA: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2525]    0FBD: 74 1E                                 JZ EXO
[2526]        :                                       
[2527]    0FBF: 46                                    INC SI
[2528]    0FC0: EB DD                                 JMP PLPL
[2529]        :                                       
[2530]    0FC2:                                       RECNN:        ;recieves host name
[2531]        :                                       ;Receiving
[2532]    0FC2: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2533]    0FC5:                                       chk000:
[2534]    0FC5: EC                                    in al,dx
[2535]    0FC6: 24 01                                 AND al,1
[2536]    0FC8: 74 D5                                 JZ PLPL
[2537]        :                                       ;SOMETHING RECIEVED
[2538]    0FCA: BA F8 03                              mov dx,03F8h
[2539]    0FCD: EC                                    in al,dx
[2540]    0FCE: 50                                    PUSH AX
[2541]    0FCF: A2 12 03                              mov INDATA,al
[2542]    0FD2: 58                                    POP AX
[2543]        :                                       
[2544]    0FD3: 88 05                                 MOV [DI],AL
[2545]        :                                       
[2546]    0FD5: 80 3D 0D                              CMP [DI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2547]    0FD8: 74 03                                 JZ EXO
[2548]    0FDA: 47                                    INC DI
[2549]        :                                       
[2550]    0FDB: EB C2                                 JMP PLPL
[2551]        :                                       
[2552]        :                                       
[2553]    0FDD:                                       EXO:
[2554]    0FDD: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[2555]    0FE0: BF 26 03                              LEA DI,PLAYERNAME2[2]
[2556]        :                                       
[2557]    0FE3:                                       PLPL22:
[2558]    0FE3: 80 3E 17 03 00                        CMP HOST,0
[2559]    0FE8: 75 1C                                 JNE  RECNN22
[2560]        :                                       ;sendds clent name
[2561]    0FEA: 8A 04                                 MOV AL,[SI]
[2562]        :                                       
[2563]        :                                       ;SEND     LETTER BY LETTER
[2564]    0FEC: A2 11 03                              mov outdata,al
[2565]    0FEF: BA FD 03                              mov dx,3FDh
[2566]    0FF2:                                       AGAIN00022:
[2567]    0FF2: EC                                    In al,dx
[2568]    0FF3: 24 20                                 And Al,00100000b
[2569]    0FF5: 74 FB                                 JZ AGAIN00022
[2570]        :                                       
[2571]    0FF7: BA F8 03                              mov dx,3F8h
[2572]    0FFA: A0 11 03                              mov al,OUTDATA
[2573]    0FFD: EE                                    out dx,al
[2574]        :                                       
[2575]        :                                       
[2576]    0FFE: 80 3C 0D                              CMP [SI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2577]    1001: 74 1E                                 JZ EXO22
[2578]        :                                       
[2579]    1003: 46                                    INC SI
[2580]    1004: EB DD                                 JMP PLPL22
[2581]        :                                       
[2582]    1006:                                       RECNN22:        ;recieves client name
[2583]        :                                       ;Receiving
[2584]    1006: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2585]    1009:                                       chk00022:
[2586]    1009: EC                                    in al,dx
[2587]    100A: 24 01                                 AND al,1
[2588]    100C: 74 D5                                 JZ PLPL22
[2589]        :                                       ;SOMETHING RECIEVED
[2590]    100E: BA F8 03                              mov dx,03F8h
[2591]    1011: EC                                    in al,dx
[2592]    1012: 50                                    PUSH AX
[2593]    1013: A2 12 03                              mov INDATA,al
[2594]    1016: 58                                    POP AX
[2595]        :                                       
[2596]    1017: 88 05                                 MOV [DI],AL
[2597]        :                                       
[2598]    1019: 80 3D 0D                              CMP [DI],0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2599]    101C: 74 03                                 JZ EXO22
[2600]    101E: 47                                    INC DI
[2601]        :                                       
[2602]        :                                       
[2603]    101F: EB C2                                 JMP PLPL22
[2604]        :                                       
[2605]        :                                       
[2606]    1021:                                       EXO22:
[2607]    1021: 61                                    POPA
[2608]        :                                       
[2609]    1022: C3                                    RET
[2610]        :                                       ENDP GETPLAYER2NAME
[2611]        :                                       ;/////////////////////////////////////////////////////////
[2612]    1023:                                       PROC RECNAME
[2613]    1023: 60                                    PUSHA
[2614]        :                                       
[2615]    1024: BF 26 03                              LEA DI,PLAYERNAME2[2]
[2616]    1027:                                       LOOPXx:
[2617]        :                                       ;Receiving
[2618]    1027: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2619]    102A:                                       chk0000:
[2620]    102A: EC                                    in al,dx
[2621]    102B: 24 01                                 AND al,1
[2622]    102D: 74 F8                                 JZ LOOPXx
[2623]        :                                       ;SOMETHING RECIEVED
[2624]    102F: BA F8 03                              mov dx,03F8h
[2625]    1032: EC                                    in al,dx
[2626]    1033: 50                                    PUSH AX
[2627]    1034: A2 12 03                              mov INDATA,al
[2628]    1037: 58                                    POP AX
[2629]        :                                       
[2630]    1038: 88 05                                 MOV [DI],AL
[2631]    103A: 3C 0D                                 cmp al,0Dh
[2632]    103C: 74 03                                 JZ EXO0
[2633]    103E: 47                                    inc DI
[2634]    103F: EB E6                                 JMP LOOPXx
[2635]    1041:                                       EXO0:
[2636]        :                                       
[2637]    1041: 61                                    POPA
[2638]        :                                       
[2639]    1042: C3                                    RET
[2640]        :                                       ENDP RECNAME
[2641]        :                                       ;//////////////////////////////////////////////////////////
[2642]    1043:                                       PROC SENNAME
[2643]    1043: 60                                    PUSHA
[2644]        :                                       
[2645]    1044: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[2646]    1047: BF 26 03                              LEA DI,PLAYERNAME2[2]
[2647]    104A:                                       LOOPy:
[2648]        :                                       
[2649]        :                                       
[2650]    104A: 8A 04                                 MOV AL,[SI]
[2651]        :                                       
[2652]        :                                       ;SEND     LETTER BY LETTER
[2653]    104C: A2 11 03                              mov outdata,al
[2654]    104F: BA FD 03                              mov dx,3FDh
[2655]    1052:                                       AGAIN0x:
[2656]    1052: EC                                    In al,dx
[2657]    1053: 24 20                                 And Al,00100000b
[2658]    1055: 74 FB                                 JZ AGAIN0x
[2659]        :                                       
[2660]    1057: BA F8 03                              mov dx,3F8h
[2661]    105A: A0 11 03                              mov al,OUTDATA
[2662]    105D: EE                                    out dx,al
[2663]        :                                       
[2664]    105E: 3C 0D                                 CMP al,0DH    ;i f ascii 0Dh is met  we jmp to print the next label
[2665]    1060: 74 03                                 JZ EXOxx
[2666]    1062: 46                                    INC SI
[2667]    1063: EB E5                                 jmp LOOPy
[2668]    1065:                                       EXOxx:
[2669]        :                                       
[2670]    1065: 61                                    POPA
[2671]        :                                       
[2672]    1066: C3                                    RET
[2673]        :                                       ENDP SENNAME
[2674]        :                                       ;/////////////////////////////////////////////////////////
[2675]    1067:                                       PROC GETPLAYER2NAMEx
[2676]    1067: 60                                    PUSHA
[2677]        :                                       
[2678]        :                                       ;clear divisor latch
[2679]        :                                       
[2680]    1068: BA FB 03                              mov dx,03FBh        ;Line Control Register
[2681]    106B: EC                                    in al,dx
[2682]    106C: 24 7F                                 and al,0111_1111b   ;Set DLAB=0
[2683]    106E: EE                                    out dx,al
[2684]        :                                       
[2685]        :                                       
[2686]    106F: BE 02 00                              LEA SI,PLAYERNAME[2]     ;LOAD player1 name
[2687]        :                                       
[2688]        :                                       
[2689]    1072:                                       SendingName:        ;Sending Player Name
[2690]        :                                       
[2691]    1072: BA FD 03                              mov dx,03FDh        ;Line Status Register
[2692]    1075: EC                                    in al,dx
[2693]    1076: A8 20                                 test al,0010_0000b  ;Use bit 5 to see if THR is empty
[2694]    1078: 74 F8                                 jz SendingName
[2695]    107A: AC                                    lodsb
[2696]    107B: BA F8 03                              mov dx,03F8h        ;Transmitter Holding Register
[2697]    107E: EE                                    out dx,al
[2698]    107F: 3C 0D                                 cmp al,0dh
[2699]    1081: 75 EF                                 jne SendingName
[2700]        :                                       
[2701]        :                                       
[2702]        :                                       
[2703]    1083:                                       SendNameDone:
[2704]        :                                       
[2705]    1083: B8 02 00                              lea ax,PLAYERNAME[2]
[2706]        :                                       
[2707]    1086: BA F8 03                              mov dx,3f8h
[2708]    1089: EF                                    out dx,ax
[2709]        :                                       
[2710]        :                                       
[2711]    108A:                                       ReceivingName:  ;Receiving PLayer Name
[2712]        :                                       
[2713]    108A: BA FD 03                              mov dx,3fdh
[2714]    108D: EC                                    in al,dx
[2715]    108E: A8 01                                 test al,00000001b
[2716]    1090: 75 02                                 jnz ReceiveNameDone
[2717]    1092: EB F6                                 jmp ReceivingName   ;This will occur if nothing is received.
[2718]        :                                       
[2719]    1094:                                       ReceiveNameDone:
[2720]        :                                       
[2721]    1094: BA F8 03                              mov dx,3f8h
[2722]    1097: ED                                    in ax,dx
[2723]    1098: 8B F0                                 mov si,ax
[2724]    109A: BF 26 03                              LEA DI,PLAYERNAME2[2]
[2725]    109D: B9 0F 00                              mov cx,15
[2726]    10A0: A4                                    movsb
[2727]        :                                       
[2728]    10A1: 61                                    POPA
[2729]        :                                       
[2730]    10A2: C3                                    RET
[2731]        :                                       ENDP GETPLAYER2NAMEx
[2732]        :                                       ;///////////////////////////////////////////////////
[2733]    10A3:                                       PROC SENDGAMEREQ
[2734]        :                                       
[2735]        :                                       ;SEND     LETTER BY LETTER
[2736]    10A3: A2 11 03                              mov outdata,al
[2737]    10A6: BA FD 03                              mov dx,3FDh
[2738]    10A9:                                       AGAINX:
[2739]    10A9: EC                                    In al,dx
[2740]    10AA: 24 20                                 And Al,00100000b
[2741]    10AC: 74 FB                                 JZ AGAINX
[2742]        :                                       
[2743]    10AE: BA F8 03                              mov dx,3F8h
[2744]    10B1: A0 11 03                              mov al,OUTDATA
[2745]    10B4: EE                                    out dx,al
[2746]        :                                       
[2747]    10B5: C3                                    RET
[2748]        :                                       ENDP
[2749]        :                                       
[2750]        :                                       
[2751]        :                                       ;////////////////////////////////////////////////
[2752]    10B6:                                       PROC RECGAMEREQ
[2753]        :                                       
[2754]        :                                       
[2755]        :                                       ;Receiving
[2756]    10B6:                                       REC:
[2757]    10B6: B4 01                                 MOV AH,1       ;get key pressed interrupt
[2758]    10B8: CD 16                                 INT 16H
[2759]    10BA: B4 00                                 MOV AH,0       ;TO EMPTY BUFFER
[2760]    10BC: CD 16                                 INT 16H
[2761]    10BE: 3C 1B                                 CMP AL,1BH
[2762]    10C0: 74 2B                                 JE RETT
[2763]        :                                       
[2764]    10C2: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2765]    10C5: EC                                    in al,dx
[2766]    10C6: 24 01                                 AND al,1
[2767]    10C8: 74 EC                                 JZ REC
[2768]        :                                       ;SOMETHING RECIEVED
[2769]    10CA: BA F8 03                              mov dx,03F8h
[2770]    10CD: EC                                    in al,dx
[2771]    10CE: 50                                    PUSH AX
[2772]    10CF: A2 12 03                              mov INDATA,al
[2773]    10D2: 58                                    POP AX
[2774]    10D3: 3C 47                                 CMP AL,47H
[2775]    10D5: 75 DF                                 JNE REC
[2776]        :                                       
[2777]        :                                       ;CHECK IF OTHER PLAYER PRESSED ESC
[2778]    10D7: EC                                    in al,dx
[2779]    10D8: 24 01                                 AND al,1
[2780]    10DA: 90 90                                 JZ ISKEYX
[2781]        :                                       ;SOMETHING RECIEVED
[2782]    10DC: BA F8 03                              mov dx,03F8h
[2783]    10DF: EC                                    in al,dx
[2784]    10E0: A2 12 03                              mov INDATA,al
[2785]        :                                       
[2786]    10E3: 3C 1B                                 CMP AL,1BH
[2787]    10E5: 75 03 E9 74 F2                        JE OPTIONS
[2788]        :                                       
[2789]    10EA: E9 63 F2                              JMP ISKEYX
[2790]        :                                       
[2791]    10ED:                                       RETT:
[2792]        :                                       ;SEND   ESC
[2793]    10ED: B0 1B                                 MOV AL,1BH
[2794]    10EF: A2 11 03                              mov outdata,al
[2795]    10F2: BA FD 03                              mov dx,3FDh
[2796]    10F5:                                       AGAINXX:
[2797]    10F5: EC                                    In al,dx
[2798]    10F6: 24 20                                 And Al,00100000b
[2799]    10F8: 74 FB                                 JZ AGAINXX
[2800]        :                                       
[2801]    10FA: BA F8 03                              mov dx,3F8h
[2802]    10FD: A0 11 03                              mov al,OUTDATA
[2803]    1100: EE                                    out dx,al
[2804]        :                                       
[2805]    1101: E9 5A F2                              JMP OPTIONS
[2806]        :                                       
[2807]        :                                       
[2808]    1104:                                       iskeyX  :
[2809]        :                                       
[2810]        :                                       
[2811]        :                                       
[2812]    1104: C3                                    RET
[2813]        :                                       ENDP
[2814]        :                                       ;//////////////////////////////////////////////////
[2815]        :                                       
[2816]        :                                       
[2817]        :                                       
[2818]        :                                       ;////////////////////////////////////////////
[2819]    1105:                                       PROC GET_OPTION         ; get  input at main menu
[2820]        :                                       
[2821]    1105:                                       OPTION:
[2822]    1105: B4 01                                 mov ah,1
[2823]    1107: CD 16                                 int 16H
[2824]    1109: 75 03 E9 87 00                        jz RECop
[2825]        :                                       
[2826]    110E: B4 00                                 mov ah,0
[2827]    1110: CD 16                                 int 16h
[2828]        :                                       
[2829]    1112: 3C 1B                                 CMP AL,1BH             ;if esc is pressed end the proc
[2830]    1114: 75 17                                 JNE SENDOP
[2831]    1116: 80 3E 17 03 01                        CMP HOST,1
[2832]    111B: 75 03 E9 3E F2                        JE  OPTIONS
[2833]    1120: 80 3E 18 03 01                        CMP REQ,1
[2834]    1125: 75 03 E9 34 F2                        JE OPTIONS
[2835]    112A: E9 7D F5                              JMP END_PROC
[2836]        :                                       
[2837]    112D:                                       SENDOP:
[2838]    112D: A2 11 03                              mov outdata,al
[2839]    1130: BA FD 03                              mov dx,3FDh
[2840]    1133:                                       AGAINOP:
[2841]    1133: EC                                    In al,dx
[2842]    1134: 24 20                                 And Al,00100000b
[2843]    1136: 74 FB                                 JZ AGAINOP
[2844]        :                                       
[2845]    1138: BA F8 03                              mov dx,3F8h
[2846]    113B: A0 11 03                              mov al,OUTDATA
[2847]    113E: 50                                    PUSH AX
[2848]    113F: EE                                    out dx,al
[2849]    1140: 58                                    POP AX
[2850]        :                                       
[2851]        :                                       
[2852]    1141: 3C 47                                 CMP AL,47H
[2853]    1143: 75 26                                 JNE COP               ;if G is pressed and you have req jmp to game else seend req
[2854]    1145: 8A 0E 18 03                           MOV CL,REQ
[2855]    1149: 80 F9 01                              CMP CL,1
[2856]    114C: 75 03 E9 4E F2                        JE GAME_MODE
[2857]        :                                       
[2858]        :                                       
[2859]    1151: B1 01                                 MOV CL,1
[2860]    1153: 88 0E 17 03                           MOV HOST,CL
[2861]        :                                       ;WAIT FOR ACCEPT
[2862]    1157: E8 C8 F7                              CALL CLEAR_SCREEN
[2863]    115A: BB 00 00                              MOV  BX,0
[2864]    115D: B4 02                                 MOV AH,2       ;SET CURSOR
[2865]    115F: BA 0A 0A                              MOV  DX ,0A0AH
[2866]    1162: CD 10                                 INT 10H
[2867]        :                                       
[2868]    1164: B4 09                                 MOV AH,9
[2869]    1166: BA CA 00                              MOV DX,OFFSET DISPCON
[2870]    1169: CD 21                                 INT 21H
[2871]        :                                       
[2872]        :                                       
[2873]    116B:                                       COP:
[2874]        :                                       
[2875]        :                                       
[2876]        :                                       
[2877]    116B: 3C 43                                 CMP AL,43H
[2878]    116D: 75 26                                 JNE RECOP
[2879]    116F: 8A 0E 18 03                           MOV CL,REQ
[2880]    1173: 80 F9 01                              CMP CL,1
[2881]    1176: 75 03 E9 5C F3                        JE CHATT
[2882]        :                                       
[2883]        :                                       
[2884]    117B: B1 01                                 MOV CL,1
[2885]    117D: 88 0E 17 03                           MOV HOST,CL
[2886]        :                                       ;WAIT FOR ACCEPT
[2887]    1181: E8 9E F7                              CALL CLEAR_SCREEN
[2888]    1184: BB 00 00                              MOV  BX,0
[2889]    1187: B4 02                                 MOV AH,2       ;SET CURSOR
[2890]    1189: BA 0A 0A                              MOV  DX ,0A0AH
[2891]    118C: CD 10                                 INT 10H
[2892]        :                                       
[2893]    118E: B4 09                                 MOV AH,9
[2894]    1190: BA CA 00                              MOV DX,OFFSET DISPCON
[2895]    1193: CD 21                                 INT 21H
[2896]        :                                       
[2897]        :                                       
[2898]        :                                       
[2899]        :                                       
[2900]        :                                       ;Receiving
[2901]    1195:                                       RECOP:
[2902]    1195: BA FD 03                              mov dx,3FDh               ;CHECK STATUS
[2903]        :                                       
[2904]    1198:                                       chkOP:
[2905]    1198: EC                                    in al,dx
[2906]    1199: 24 01                                 AND al,1
[2907]    119B: 75 03 E9 65 FF                        JZ OPTION
[2908]        :                                       ;SOMETHING RECIEVED
[2909]    11A0: BA F8 03                              mov dx,03F8h
[2910]    11A3: EC                                    in al,dx
[2911]    11A4: 50                                    PUSH AX
[2912]    11A5: A2 12 03                              mov INDATA,al
[2913]    11A8: 58                                    POP AX
[2914]        :                                       
[2915]        :                                       
[2916]        :                                       
[2917]    11A9: 3C 47                                 CMP AL,47H
[2918]    11AB: 75 28                                 JNE ISKEYOP
[2919]        :                                       
[2920]    11AD: 8A 0E 17 03                           MOV CL,HOST
[2921]    11B1: 80 F9 01                              CMP CL,1
[2922]    11B4: 75 03 E9 E6 F1                        JE GAME_MODE
[2923]        :                                       
[2924]    11B9: B1 01                                 MOV CL,1
[2925]    11BB: 88 0E 18 03                           MOV REQ,CL
[2926]        :                                       ;ACCEPT INVITE CODE
[2927]        :                                       
[2928]    11BF: E8 60 F7                              CALL CLEAR_SCREEN
[2929]    11C2: BB 00 00                              MOV  BX,0
[2930]    11C5: B4 02                                 MOV AH,2       ;SET CURSOR
[2931]    11C7: BA 0A 0A                              MOV  DX ,0A0AH
[2932]    11CA: CD 10                                 INT 10H
[2933]        :                                       
[2934]    11CC: B4 09                                 MOV AH,9
[2935]    11CE: BA 1C 01                              MOV DX,OFFSET DISPCON2
[2936]    11D1: CD 21                                 INT 21H
[2937]        :                                       
[2938]    11D3: EB C0                                 JMP RECOP
[2939]        :                                       
[2940]    11D5:                                       ISKEYOP:
[2941]        :                                       
[2942]    11D5: 3C 43                                 CMP AL,43H
[2943]    11D7: 74 03 E9 82 F1                        Jne OPTIONS
[2944]        :                                       
[2945]    11DC: 8A 0E 17 03                           MOV CL,HOST
[2946]    11E0: 80 F9 01                              CMP CL,1
[2947]    11E3: 75 03 E9 EF F2                        JE CHATT
[2948]        :                                       
[2949]    11E8: B1 01                                 MOV CL,1
[2950]    11EA: 88 0E 18 03                           MOV REQ,CL
[2951]        :                                       ;ACCEPT INVITE CODE
[2952]    11EE: E8 31 F7                              CALL CLEAR_SCREEN
[2953]    11F1: 60                                    PUSHA
[2954]    11F2: BB 00 00                              MOV  BX,0
[2955]    11F5: B4 02                                 MOV AH,2       ;SET CURSOR
[2956]    11F7: BA 0A 0A                              MOV  DX ,0A0AH
[2957]    11FA: CD 10                                 INT 10H
[2958]        :                                       
[2959]    11FC: B4 09                                 MOV AH,9
[2960]    11FE: BA A6 01                              MOV DX,OFFSET DISPCON3
[2961]    1201: CD 21                                 INT 21H
[2962]    1203: 61                                    POPA
[2963]        :                                       
[2964]    1204: E9 FE FE                              JMP OPTION
[2965]        :                                       
[2966]    1207: C3                                    RET
[2967]        :                                       ENDP GET_OPTION
[2968]        :                                       ;///////////////////////////////////////
[2969]        :                                       ;//////////////////////////////////////
[2970]    1208:                                       PROC INPUTKEY      ;update bx,dx for turn 1
[2971]        :                                       ;/////PLAYER 1 KEYS
[2972]        :                                       
[2973]    1208: 80 3E 17 03 01                        CMP HOST,1
[2974]    120D: 75 51                                 JNE A33
[2975]    120F: 80 3E 19 03 01                        CMP PRESS,1
[2976]    1214: 75 2C                                 JNE A22
[2977]    1216:                                       A:
[2978]    1216: 3C 41                                 CMP AL,41H
[2979]    1218: 75 0C                                 JNZ D
[2980]    121A: 80 FB 00                              CMP BL,0
[2981]    121D: 74 07                                 JE D
[2982]    121F: FE CB                                 DEC BL
[2983]    1221: FE CB                                 DEC BL
[2984]    1223: E9 8A 00                              JMP NOKEY
[2985]    1226:                                       D:
[2986]    1226: 3C 44                                 CMP AL,44H
[2987]    1228: 75 0B                                 JNZ W
[2988]    122A: 80 FB 4E                              CMP BL,78
[2989]    122D: 74 06                                 JE W
[2990]    122F: FE C3                                 INC BL
[2991]    1231: FE C3                                 INC BL
[2992]    1233: EB 7B                                 JMP NOKEY
[2993]    1235:                                       W:              ; for power of shot
[2994]    1235: 3C 57                                 CMP AL,57H
[2995]    1237: 75 77                                 JNZ NOKEY
[2996]    1239: 80 FF 00                              cmp bh,0
[2997]    123C: 74 72                                 JE NOKEY
[2998]    123E: FE CF                                 DEC BH
[2999]    1240: EB 6E                                 JMP NOKEY
[3000]        :                                       ;////////////////
[3001]        :                                       ;///PLAYER 2 KEYS
[3002]    1242:                                       A22:
[3003]    1242: 3C 41                                 CMP AL,41H
[3004]    1244: 75 0B                                 JNZ DDX
[3005]    1246: 80 FA 00                              CMP DL,0
[3006]    1249: 74 06                                 JE DDX
[3007]    124B: FE CA                                 DEC DL
[3008]    124D: FE CA                                 DEC DL
[3009]    124F: EB 5F                                 JMP NOKEY
[3010]    1251:                                       DDX:
[3011]    1251: 3C 44                                 CMP AL,44H
[3012]    1253: 75 5B                                 JNZ NOKEY
[3013]    1255: 80 FA 46                              CMP DL,70
[3014]    1258: 74 56                                 JE NOKEY
[3015]    125A: FE C2                                 INC DL
[3016]    125C: FE C2                                 INC DL
[3017]    125E: EB 50                                 JMP NOKEY
[3018]        :                                       
[3019]        :                                       
[3020]    1260:                                       A33:
[3021]    1260: 80 3E 19 03 01                        CMP PRESS,1
[3022]    1265: 74 2B                                 JE A222
[3023]        :                                       
[3024]    1267: 3C 41                                 CMP AL,41H
[3025]    1269: 75 0B                                 JNZ D222
[3026]    126B: 80 FB 00                              CMP BL,0    ;BL MKAN EL SAHM
[3027]    126E: 74 06                                 JE D222
[3028]    1270: FE CB                                 DEC BL
[3029]    1272: FE CB                                 DEC BL
[3030]    1274: EB 3A                                 JMP NOKEY
[3031]        :                                       
[3032]    1276:                                       D222:
[3033]    1276: 3C 44                                 CMP AL,44H
[3034]    1278: 75 0B                                 JNZ W222
[3035]    127A: 80 FB 4E                              CMP BL,78
[3036]    127D: 74 06                                 JE W222
[3037]    127F: FE C3                                 INC BL
[3038]    1281: FE C3                                 INC BL
[3039]    1283: EB 2B                                 JMP NOKEY
[3040]        :                                       
[3041]    1285:                                       W222:              ; for power of shot
[3042]    1285: 3C 57                                 CMP AL,57H
[3043]    1287: 75 27                                 JNZ NOKEY
[3044]    1289: 80 FF 00                              cmp bh,0
[3045]    128C: 74 22                                 JE NOKEY
[3046]    128E: FE CF                                 DEC BH
[3047]    1290: EB 1E                                 JMP NOKEY
[3048]        :                                       
[3049]        :                                       ;////////////////
[3050]        :                                       ;///PLAYER 2 KEYS
[3051]    1292:                                       A222:
[3052]    1292: 3C 41                                 CMP AL,41H
[3053]    1294: 75 0B                                 JNZ DDX22
[3054]    1296: 80 FA 00                              CMP DL,0
[3055]    1299: 74 06                                 JE DDX22
[3056]    129B: FE CA                                 DEC DL
[3057]    129D: FE CA                                 DEC DL
[3058]    129F: EB 0F                                 JMP NOKEY
[3059]    12A1:                                       DDX22:
[3060]    12A1: 3C 44                                 CMP AL,44H
[3061]    12A3: 75 0B                                 JNZ NOKEY
[3062]    12A5: 80 FA 46                              CMP DL,70
[3063]    12A8: 74 06                                 JE NOKEY
[3064]    12AA: FE C2                                 INC DL
[3065]    12AC: FE C2                                 INC DL
[3066]    12AE: EB 00                                 JMP NOKEY
[3067]        :                                       
[3068]        :                                       
[3069]        :                                       
[3070]    12B0:                                       NOKEY:
[3071]    12B0: C6 06 19 03 00                        MOV PRESS,0
[3072]    12B5: C3                                    RET
[3073]        :                                       ENDP INPUTKEY
[3074]        :                                       ;//////////////////////////////////////////////////////
[3075]        :                                       
[3076]    12B6:                                       PROC INPUTKEY2         ;update bx , dx for turn 2
[3077]        :                                       
[3078]        :                                       ;/////PLAYER 1 KEYS
[3079]        :                                       
[3080]    12B6: 80 3E 17 03 01                        CMP HOST,1
[3081]    12BB: 75 51                                 JNE A33X
[3082]    12BD: 80 3E 19 03 01                        CMP PRESS,1
[3083]    12C2: 74 2C                                 JE A22X
[3084]    12C4:                                       AXX:
[3085]    12C4: 3C 41                                 CMP AL,41H
[3086]    12C6: 75 0C                                 JNZ DXX
[3087]    12C8: 80 FB 00                              CMP BL,0
[3088]    12CB: 74 07                                 JE DXX
[3089]    12CD: FE CB                                 DEC BL
[3090]    12CF: FE CB                                 DEC BL
[3091]    12D1: E9 8A 00                              JMP NOKEY2
[3092]    12D4:                                       DXX:
[3093]    12D4: 3C 44                                 CMP AL,44H
[3094]    12D6: 75 0B                                 JNZ WXX
[3095]    12D8: 80 FB 4E                              CMP BL,78
[3096]    12DB: 74 06                                 JE WXX
[3097]    12DD: FE C3                                 INC BL
[3098]    12DF: FE C3                                 INC BL
[3099]    12E1: EB 7B                                 JMP NOKEY2
[3100]    12E3:                                       WXX:              ; for power of shot
[3101]    12E3: 3C 57                                 CMP AL,57H
[3102]    12E5: 75 77                                 JNZ NOKEY2
[3103]    12E7: 80 FF 00                              cmp bh,0
[3104]    12EA: 74 72                                 JE NOKEY2
[3105]    12EC: FE CF                                 DEC BH
[3106]    12EE: EB 6E                                 JMP NOKEY2
[3107]        :                                       ;////////////////
[3108]        :                                       ;///PLAYER 2 KEYS
[3109]    12F0:                                       A22X:
[3110]    12F0: 3C 41                                 CMP AL,41H
[3111]    12F2: 75 0B                                 JNZ DDXX
[3112]    12F4: 80 FA 00                              CMP DL,0
[3113]    12F7: 74 06                                 JE DDXX
[3114]    12F9: FE CA                                 DEC DL
[3115]    12FB: FE CA                                 DEC DL
[3116]    12FD: EB 5F                                 JMP NOKEY2
[3117]    12FF:                                       DDXX:
[3118]    12FF: 3C 44                                 CMP AL,44H
[3119]    1301: 75 5B                                 JNZ NOKEY2
[3120]    1303: 80 FA 46                              CMP DL,70
[3121]    1306: 74 56                                 JE NOKEY2
[3122]    1308: FE C2                                 INC DL
[3123]    130A: FE C2                                 INC DL
[3124]    130C: EB 50                                 JMP NOKEY2
[3125]        :                                       
[3126]        :                                       
[3127]        :                                       
[3128]    130E:                                       A33X:
[3129]    130E: 80 3E 19 03 01                        CMP PRESS,1
[3130]    1313: 75 2B                                 JNE A222X
[3131]    1315: 3C 41                                 CMP AL,41H
[3132]    1317: 75 0B                                 JNZ D222X
[3133]    1319: 80 FB 00                              CMP BL,0
[3134]    131C: 74 06                                 JE D222X
[3135]    131E: FE CB                                 DEC BL
[3136]    1320: FE CB                                 DEC BL
[3137]    1322: EB 3A                                 JMP NOKEY2
[3138]    1324:                                       D222X:
[3139]    1324: 3C 44                                 CMP AL,44H
[3140]    1326: 75 0B                                 JNZ W222X
[3141]    1328: 80 FB 4E                              CMP BL,78
[3142]    132B: 74 06                                 JE W222X
[3143]    132D: FE C3                                 INC BL
[3144]    132F: FE C3                                 INC BL
[3145]    1331: EB 2B                                 JMP NOKEY2
[3146]    1333:                                       W222X:              ; for power of shot
[3147]    1333: 3C 57                                 CMP AL,57H
[3148]    1335: 75 27                                 JNZ NOKEY2
[3149]    1337: 80 FF 00                              cmp bh,0
[3150]    133A: 74 22                                 JE NOKEY2
[3151]    133C: FE CF                                 DEC BH
[3152]    133E: EB 1E                                 JMP NOKEY2
[3153]        :                                       ;////////////////
[3154]        :                                       ;///PLAYER 2 KEYS
[3155]    1340:                                       A222X:
[3156]    1340: 3C 41                                 CMP AL,41H
[3157]    1342: 75 0B                                 JNZ DDX22X
[3158]    1344: 80 FA 00                              CMP DL,0
[3159]    1347: 74 06                                 JE DDX22X
[3160]    1349: FE CA                                 DEC DL
[3161]    134B: FE CA                                 DEC DL
[3162]    134D: EB 0F                                 JMP NOKEY2
[3163]    134F:                                       DDX22X:
[3164]    134F: 3C 44                                 CMP AL,44H
[3165]    1351: 75 0B                                 JNZ NOKEY2
[3166]    1353: 80 FA 46                              CMP DL,70
[3167]    1356: 74 06                                 JE NOKEY2
[3168]    1358: FE C2                                 INC DL
[3169]    135A: FE C2                                 INC DL
[3170]    135C: EB 00                                 JMP NOKEY2
[3171]        :                                       
[3172]        :                                       
[3173]        :                                       
[3174]    135E:                                       NOKEY2:
[3175]    135E: C6 06 19 03 00                        MOV PRESS,0
[3176]        :                                       
[3177]    1363: C3                                    RET
[3178]        :                                       ENDP INPUTKEY2
[3179]        :                                       ;////////////////////////////
[3180]        :                                       
[3181]        :                                       ;//////////////////////////////////////
[3182]    1364:                                       PROC INPUTKEYLVL2      ;update bx,dx for turn 1
[3183]        :                                       ;/////PLAYER 1 KEYS
[3184]        :                                       
[3185]    1364: 80 3E 17 03 01                        CMP HOST,1
[3186]    1369: 75 78                                 JNE A33LVL2
[3187]    136B: 80 3E 19 03 01                        CMP PRESS,1
[3188]    1370: 75 34                                 JNE A22LVL2
[3189]    1372:                                       ALVL2:
[3190]    1372: 3C 41                                 CMP AL,41H
[3191]    1374: 75 0C                                 JNZ DLVL2
[3192]    1376: 80 FB 00                              CMP BL,0
[3193]    1379: 74 07                                 JE DLVL2
[3194]    137B: FE CB                                 DEC BL
[3195]    137D: FE CB                                 DEC BL
[3196]    137F: E9 CB 00                              JMP NOKEYLVL2
[3197]    1382:                                       DLVL2:
[3198]    1382: 3C 44                                 CMP AL,44H
[3199]    1384: 75 0C                                 JNZ WLVL2
[3200]    1386: 80 FB 4E                              CMP BL,78
[3201]    1389: 74 07                                 JE WLVL2
[3202]    138B: FE C3                                 INC BL
[3203]    138D: FE C3                                 INC BL
[3204]    138F: E9 BB 00                              JMP NOKEYLVL2
[3205]    1392:                                       WLVL2:              ; for power of shot
[3206]    1392: 3C 57                                 CMP AL,57H
[3207]    1394: 74 03 E9 B4 00                        JNZ NOKEYLVL2
[3208]    1399: 80 FF 00                              cmp bh,0
[3209]    139C: 75 03 E9 AC 00                        JE NOKEYLVL2
[3210]    13A1: FE CF                                 DEC BH
[3211]    13A3: E9 A7 00                              JMP NOKEYLVL2
[3212]        :                                       ;////////////////
[3213]        :                                       ;///PLAYER 2 KEYS
[3214]    13A6:                                       A22LVL2:
[3215]    13A6: 3C 41                                 CMP AL,41H
[3216]    13A8: 75 0C                                 JNZ DDXLVL2
[3217]    13AA: 80 FA 00                              CMP DL,0
[3218]    13AD: 74 07                                 JE DDXLVL2
[3219]    13AF: FE CA                                 DEC DL
[3220]    13B1: FE CA                                 DEC DL
[3221]    13B3: E9 97 00                              JMP NOKEYLVL2
[3222]    13B6:                                       DDXLVL2:
[3223]    13B6: 3C 44                                 CMP AL,44H
[3224]    13B8: 75 0F                                 JNZ WADDLVL2
[3225]    13BA: 80 FA 46                              CMP DL,70
[3226]    13BD: 75 03 E9 8B 00                        JE NOKEYLVL2
[3227]    13C2: FE C2                                 INC DL
[3228]    13C4: FE C2                                 INC DL
[3229]    13C6: E9 84 00                              JMP NOKEYLVL2
[3230]        :                                       
[3231]        :                                       
[3232]    13C9:                                       WADDLVL2:              ; for power of shot
[3233]    13C9: 3C 57                                 CMP AL,57H
[3234]    13CB: 75 09                                 JNZ XADDLVL2
[3235]    13CD: 80 FE 00                              cmp Dh,0
[3236]    13D0: 74 7B                                 JE NOKEYLVL2
[3237]    13D2: FE CE                                 DEC DH
[3238]    13D4: EB 77                                 JMP NOKEYLVL2
[3239]        :                                       
[3240]        :                                       
[3241]    13D6:                                       XADDLVL2:              ; for power of shot
[3242]    13D6: 3C 53                                 CMP AL,53H
[3243]    13D8: 75 73                                 JNZ NOKEYLVL2
[3244]    13DA: 80 FE 06                              cmp Dh,06H
[3245]    13DD: 74 6E                                 JE NOKEYLVL2
[3246]    13DF: FE C6                                 INC DH
[3247]    13E1: EB 6A                                 JMP NOKEYLVL2
[3248]        :                                       
[3249]        :                                       
[3250]        :                                       
[3251]        :                                       
[3252]        :                                       
[3253]        :                                       
[3254]    13E3:                                       A33LVL2:
[3255]    13E3: 80 3E 19 03 01                        CMP PRESS,1
[3256]    13E8: 74 2B                                 JE A222LVL2
[3257]    13EA: 3C 41                                 CMP AL,41H
[3258]    13EC: 75 0B                                 JNZ D222LVL2
[3259]    13EE: 80 FB 00                              CMP BL,0
[3260]    13F1: 74 06                                 JE D222LVL2
[3261]    13F3: FE CB                                 DEC BL
[3262]    13F5: FE CB                                 DEC BL
[3263]    13F7: EB 54                                 JMP NOKEYLVL2
[3264]    13F9:                                       D222LVL2:
[3265]    13F9: 3C 44                                 CMP AL,44H
[3266]    13FB: 75 0B                                 JNZ W222LVL2
[3267]    13FD: 80 FB 4E                              CMP BL,78
[3268]    1400: 74 06                                 JE W222LVL2
[3269]    1402: FE C3                                 INC BL
[3270]    1404: FE C3                                 INC BL
[3271]    1406: EB 45                                 JMP NOKEYLVL2
[3272]    1408:                                       W222LVL2:              ; for power of shot
[3273]    1408: 3C 57                                 CMP AL,57H
[3274]    140A: 75 41                                 JNZ NOKEYLVL2
[3275]    140C: 80 FF 00                              cmp bh,0
[3276]    140F: 74 3C                                 JE NOKEYLVL2
[3277]    1411: FE CF                                 DEC BH
[3278]    1413: EB 38                                 JMP NOKEYLVL2
[3279]        :                                       ;////////////////
[3280]        :                                       ;///PLAYER 2 KEYS
[3281]    1415:                                       A222LVL2:
[3282]    1415: 3C 41                                 CMP AL,41H
[3283]    1417: 75 0B                                 JNZ DDX22LVL2
[3284]    1419: 80 FA 00                              CMP DL,0
[3285]    141C: 74 06                                 JE DDX22LVL2
[3286]    141E: FE CA                                 DEC DL
[3287]    1420: FE CA                                 DEC DL
[3288]    1422: EB 29                                 JMP NOKEYLVL2
[3289]    1424:                                       DDX22LVL2:
[3290]    1424: 3C 44                                 CMP AL,44H
[3291]    1426: 75 0B                                 JNZ WWADDLVL2
[3292]    1428: 80 FA 46                              CMP DL,70
[3293]    142B: 74 20                                 JE NOKEYLVL2
[3294]    142D: FE C2                                 INC DL
[3295]    142F: FE C2                                 INC DL
[3296]    1431: EB 1A                                 JMP NOKEYLVL2
[3297]        :                                       
[3298]        :                                       
[3299]    1433:                                       WWADDLVL2:              ; for power of shot
[3300]    1433: 3C 57                                 CMP AL,57H
[3301]    1435: 75 09                                 JNZ XXADDLVL2
[3302]    1437: 80 FE 00                              cmp Dh,0
[3303]    143A: 74 11                                 JE NOKEYLVL2
[3304]    143C: FE CE                                 DEC DH
[3305]    143E: EB 0D                                 JMP NOKEYLVL2
[3306]        :                                       
[3307]        :                                       
[3308]    1440:                                       XXADDLVL2:              ; for power of shot
[3309]    1440: 3C 53                                 CMP AL,53H
[3310]    1442: 75 09                                 JNZ NOKEYLVL2
[3311]    1444: 80 FE 06                              cmp Dh,06H
[3312]    1447: 74 04                                 JE NOKEYLVL2
[3313]    1449: FE C6                                 INC DH
[3314]    144B: EB 00                                 JMP NOKEYLVL2
[3315]        :                                       
[3316]        :                                       
[3317]    144D:                                       NOKEYLVL2:
[3318]    144D: C6 06 19 03 00                        MOV PRESS,0
[3319]    1452: C3                                    RET
[3320]        :                                       ENDP INPUTKEYLVL2
[3321]        :                                       ;//////////////////////////////////////////////////////
[3322]        :                                       
[3323]    1453:                                       PROC INPUTKEY2LVL2         ;update bx , dx for turn 2
[3324]        :                                       
[3325]        :                                       ;/////PLAYER 1 KEYS
[3326]        :                                       
[3327]    1453: 80 3E 17 03 01                        CMP HOST,1
[3328]    1458: 75 7C                                 JNE A33XLVL2
[3329]    145A: 80 3E 19 03 01                        CMP PRESS,1
[3330]    145F: 74 34                                 JE A22XLVL2
[3331]    1461:                                       AXXLVL2:
[3332]    1461: 3C 41                                 CMP AL,41H
[3333]    1463: 75 0C                                 JNZ DXXLVL2
[3334]    1465: 80 FB 00                              CMP BL,0
[3335]    1468: 74 07                                 JE DXXLVL2
[3336]    146A: FE CB                                 DEC BL
[3337]    146C: FE CB                                 DEC BL
[3338]    146E: E9 DA 00                              JMP NOKEY2LVL2
[3339]    1471:                                       DXXLVL2:
[3340]    1471: 3C 44                                 CMP AL,44H
[3341]    1473: 75 0C                                 JNZ WXXLVL2
[3342]    1475: 80 FB 4E                              CMP BL,78
[3343]    1478: 74 07                                 JE WXXLVL2
[3344]    147A: FE C3                                 INC BL
[3345]    147C: FE C3                                 INC BL
[3346]    147E: E9 CA 00                              JMP NOKEY2LVL2
[3347]    1481:                                       WXXLVL2:              ; for power of shot
[3348]    1481: 3C 57                                 CMP AL,57H
[3349]    1483: 74 03 E9 C3 00                        JNZ NOKEY2LVL2
[3350]    1488: 80 FF 00                              cmp bh,0
[3351]    148B: 75 03 E9 BB 00                        JE NOKEY2LVL2
[3352]    1490: FE CF                                 DEC BH
[3353]    1492: E9 B6 00                              JMP NOKEY2LVL2
[3354]        :                                       ;////////////////
[3355]        :                                       ;///PLAYER 2 KEYS
[3356]    1495:                                       A22XLVL2:
[3357]    1495: 3C 41                                 CMP AL,41H
[3358]    1497: 75 0C                                 JNZ DDXXLVL2
[3359]    1499: 80 FA 00                              CMP DL,0
[3360]    149C: 74 07                                 JE DDXXLVL2
[3361]    149E: FE CA                                 DEC DL
[3362]    14A0: FE CA                                 DEC DL
[3363]    14A2: E9 A6 00                              JMP NOKEY2LVL2
[3364]    14A5:                                       DDXXLVL2:
[3365]    14A5: 3C 44                                 CMP AL,44H
[3366]    14A7: 75 0F                                 JNZ WWWADDLVL2
[3367]    14A9: 80 FA 46                              CMP DL,70
[3368]    14AC: 75 03 E9 9A 00                        JE NOKEY2LVL2
[3369]    14B1: FE C2                                 INC DL
[3370]    14B3: FE C2                                 INC DL
[3371]    14B5: E9 93 00                              JMP NOKEY2LVL2
[3372]        :                                       
[3373]        :                                       
[3374]    14B8:                                       WWWADDLVL2:              ; for power of shot
[3375]    14B8: 3C 57                                 CMP AL,57H
[3376]    14BA: 75 09                                 JNZ XXXADDLVL2
[3377]    14BC: 80 FE 00                              cmp Dh,0
[3378]    14BF: 74 8C                                 JE NOKEYLVL2
[3379]    14C1: FE CE                                 DEC DH
[3380]    14C3: EB 88                                 JMP NOKEYLVL2
[3381]        :                                       
[3382]        :                                       
[3383]    14C5:                                       XXXADDLVL2:              ; for power of shot
[3384]    14C5: 3C 53                                 CMP AL,53H
[3385]    14C7: 75 84                                 JNZ NOKEYLVL2
[3386]    14C9: 80 FE 06                              cmp Dh,06H
[3387]    14CC: 75 03 E9 7C FF                        JE NOKEYLVL2
[3388]    14D1: FE C6                                 INC DH
[3389]    14D3: E9 77 FF                              JMP NOKEYLVL2
[3390]        :                                       
[3391]        :                                       ;////////////////////
[3392]        :                                       
[3393]    14D6:                                       A33XLVL2:
[3394]    14D6: 80 3E 19 03 01                        CMP PRESS,1
[3395]    14DB: 75 2B                                 JNE A222XLVL2
[3396]    14DD: 3C 41                                 CMP AL,41H
[3397]    14DF: 75 0B                                 JNZ D222XLVL2
[3398]    14E1: 80 FB 00                              CMP BL,0
[3399]    14E4: 74 06                                 JE D222XLVL2
[3400]    14E6: FE CB                                 DEC BL
[3401]    14E8: FE CB                                 DEC BL
[3402]    14EA: EB 5F                                 JMP NOKEY2LVL2
[3403]    14EC:                                       D222XLVL2:
[3404]    14EC: 3C 44                                 CMP AL,44H
[3405]    14EE: 75 0B                                 JNZ W222XLVL2
[3406]    14F0: 80 FB 4E                              CMP BL,78
[3407]    14F3: 74 06                                 JE W222XLVL2
[3408]    14F5: FE C3                                 INC BL
[3409]    14F7: FE C3                                 INC BL
[3410]    14F9: EB 50                                 JMP NOKEY2LVL2
[3411]    14FB:                                       W222XLVL2:              ; for power of shot
[3412]    14FB: 3C 57                                 CMP AL,57H
[3413]    14FD: 75 4C                                 JNZ NOKEY2LVL2
[3414]    14FF: 80 FF 00                              cmp bh,0
[3415]    1502: 74 47                                 JE NOKEY2LVL2
[3416]    1504: FE CF                                 DEC BH
[3417]    1506: EB 43                                 JMP NOKEY2LVL2
[3418]        :                                       ;////////////////
[3419]        :                                       ;///PLAYER 2 KEYS
[3420]    1508:                                       A222XLVL2:
[3421]    1508: 3C 41                                 CMP AL,41H
[3422]    150A: 75 0B                                 JNZ DDX22XLVL2
[3423]    150C: 80 FA 00                              CMP DL,0
[3424]    150F: 74 06                                 JE DDX22XLVL2
[3425]    1511: FE CA                                 DEC DL
[3426]    1513: FE CA                                 DEC DL
[3427]    1515: EB 34                                 JMP NOKEY2LVL2
[3428]    1517:                                       DDX22XLVL2:
[3429]    1517: 3C 44                                 CMP AL,44H
[3430]    1519: 75 0B                                 JNZ WWWWADDLVL2
[3431]    151B: 80 FA 46                              CMP DL,70
[3432]    151E: 74 2B                                 JE NOKEY2LVL2
[3433]    1520: FE C2                                 INC DL
[3434]    1522: FE C2                                 INC DL
[3435]    1524: EB 25                                 JMP NOKEY2LVL2
[3436]        :                                       
[3437]        :                                       
[3438]        :                                       
[3439]    1526:                                       WWWWADDLVL2:              ; for power of shot
[3440]    1526: 3C 57                                 CMP AL,57H
[3441]    1528: 75 0D                                 JNZ XXXXADDLVL2
[3442]    152A: 80 FE 00                              cmp Dh,0
[3443]    152D: 75 03 E9 1B FF                        JE NOKEYLVL2
[3444]    1532: FE CE                                 DEC DH
[3445]    1534: E9 16 FF                              JMP NOKEYLVL2
[3446]        :                                       
[3447]        :                                       
[3448]    1537:                                       XXXXADDLVL2:              ; for power of shot
[3449]    1537: 3C 53                                 CMP AL,53H
[3450]    1539: 74 03 E9 0F FF                        JNZ NOKEYLVL2
[3451]    153E: 80 FE 06                              cmp Dh,06H
[3452]    1541: 75 03 E9 07 FF                        JE NOKEYLVL2
[3453]    1546: FE C6                                 INC DH
[3454]    1548: E9 02 FF                              JMP NOKEYLVL2
[3455]        :                                       
[3456]        :                                       
[3457]        :                                       
[3458]    154B:                                       NOKEY2LVL2:
[3459]    154B: C6 06 19 03 00                        MOV PRESS,0
[3460]        :                                       
[3461]    1550: C3                                    RET
[3462]        :                                       ENDP INPUTKEY2LVL2
[3463]        :                                       
[3464]        :                                       
[3465]        :                                       
[3466]        :                                       ;//////////////////////////////////////////
[3467]        :                                       ;//////////////////////////////////////////
[3468]    1551:                                       PROC CHECK_GAMELVL2   ;checks wether game should be ended if player 1 has 5 goals
[3469]        :                                       ;or player 2 or they have a draw
[3470]    1551: 60                                    PUSHA
[3471]    1552: BE 20 03                              LEA SI,PLAYER1[2]      ;load player1 score
[3472]        :                                       
[3473]    1555: BF 23 03                              LEA DI,PLAYER2[2]      ;load player 2 score
[3474]        :                                       
[3475]    1558: 8A 04                                 MOV AL,[SI]
[3476]    155A: 8A 25                                 MOV AH,[DI]
[3477]        :                                       
[3478]        :                                       
[3479]    155C: 80 FC 35                              CMP AH,35H           ;see if player 2 has   5 goals
[3480]    155F: 72 07                                 JB XXXLVL2
[3481]    1561: 3A E0                                 CMP AH,AL           ;see if there is a draw
[3482]    1563: 74 0E                                 JZ  XXLVL2
[3483]    1565: E9 01 F1                              JMP END_PROG
[3484]        :                                       
[3485]    1568:                                       XXXLVL2:
[3486]    1568: 3C 35                                 CMP AL,35H        ;see if player 1 has 5 goals
[3487]    156A: 72 07                                 JB  XXLVL2
[3488]    156C: 3A E0                                 CMP AH,AL         ;see if there is  a draw
[3489]    156E: 74 03                                 JZ  XXLVL2
[3490]        :                                       
[3491]    1570: E9 F6 F0                              JMP END_PROG         ; end game if any one wins
[3492]        :                                       
[3493]        :                                       
[3494]    1573:                                       XXLVL2:
[3495]    1573: 61                                    POPA
[3496]        :                                       
[3497]    1574: C3                                    RET
[3498]        :                                       ENDP CHECK_GAMELVL2
[3499]        :                                       ;///////////////////////////////////
[3500]    1575:                                       PROC CHECK_GAME2LVL2
[3501]    1575: 60                                    PUSHA
[3502]    1576: BE 20 03                              LEA SI,PLAYER1[2]        ; load the scores
[3503]        :                                       
[3504]    1579: BF 23 03                              LEA DI,PLAYER2[2]
[3505]        :                                       
[3506]    157C: 8A 04                                 MOV AL,[SI]
[3507]    157E: 8A 25                                 MOV AH,[DI]
[3508]        :                                       
[3509]        :                                       
[3510]    1580: 3C 35                                 CMP Al,35H         ;check if playyer 1 has 5 goals
[3511]    1582: 72 09                                 JB SSSLVL2
[3512]        :                                       
[3513]    1584: 2A C4                                 SUB AL,AH          ;checks that player 2 is less than 4 goals
[3514]    1586: 3C 02                                 CMP AL,2
[3515]        :                                       
[3516]        :                                       
[3517]    1588: 72 03 E9 DC F0                        JNB END_PROG
[3518]        :                                       
[3519]    158D:                                       SSSLVL2:
[3520]    158D: 61                                    POPA
[3521]        :                                       
[3522]    158E: C3                                    RET
[3523]        :                                       ENDP CHECK_GAME2LVL2
[3524]        :                                       
[3525]        :                                       
[3526]        :                                       ;//////////////////////////////////////
[3527]        :                                       END MAIN
[3528]        :                                       
[3529]        :                                       
 
===================================================================================================
 
EXE HEADER - bytes from 0000 to 01FF inclusive.

0000: 4D      -   exe signature (M)
0001: 5A      -   exe signature (Z)
0002: 8F      -   bytes on last page (l.byte)
0003: 01      -   bytes on last page (h.byte)
0004: 0C      -   512 byte pages in file (l.byte)
0005: 00      -   512 byte pages in file (h.byte)
0006: 01      -   relocations (l.byte)
0007: 00      -   relocations (h.byte)
0008: 20      -   paragraphs in header (l.byte)
0009: 00      -   paragraphs in header (h.byte)
000A: 00      -   minimum memory (l.byte)
000B: 00      -   minimum memory (h.byte)
000C: FF      -   maximum memory (l.byte)
000D: FF      -   maximum memory (h.byte)
000E: 00      -   SS - stack segment (l.byte)
000F: 00      -   SS - stack segment (h.byte)
0010: 20      -   SP - stack pointer (l.byte)
0011: 00      -   SP - stack pointer (h.byte)
0012: 06      -   check sum (l.byte)
0013: DE      -   check sum (h.byte)
0014: 00      -   IP - instruction pointer (l.byte)
0015: 00      -   IP - instruction pointer (h.byte)
0016: 35      -   CS - code segment (l.byte)
0017: 00      -   CS - code segment (h.byte)
0018: 1E      -   relocation table adress (l.byte)
0019: 00      -   relocation table adress (h.byte)
001A: 00      -   overlay number (l.byte)
001B: 00      -   overlay number (h.byte)
001C: 01      -   signature (l.byte)
001D: 00      -   signature (h.byte)
001E: 01      -   relocation table - offset inside segment (l.byte)
001F: 00      -   relocation table - offset inside segment (h.byte)
0020: 35      -   relocation table - segment anchor (l.byte)
0021: 00      -   relocation table - segment anchor (h.byte)
0022 to 01FF  -   reserved relocation area  (00) 




===================================================================================================
